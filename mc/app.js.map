{"version":3,"sources":["app/node_modules/classnames/index.js","node_modules/csjs/csjs.js","node_modules/csjs/get-css.js","node_modules/csjs/index.js","node_modules/csjs/lib/base62-encode.js","node_modules/csjs/lib/build-exports.js","node_modules/csjs/lib/composition.js","node_modules/csjs/lib/csjs.js","node_modules/csjs/lib/css-extract-extends.js","node_modules/csjs/lib/css-key.js","node_modules/csjs/lib/extract-exports.js","node_modules/csjs/lib/get-css.js","node_modules/csjs/lib/hash-string.js","node_modules/csjs/lib/regex.js","node_modules/csjs/lib/replace-animations.js","node_modules/csjs/lib/scoped-name.js","node_modules/csjs/lib/scopeify.js","node_modules/mithril/mithril.js","app/components/character/index.js","app/components/character/styles.js","app/components/common_styles.js","app/components/generic_table/index.js","app/components/main/index.js","app/components/main/styles.js","app/components/rule_tables/index.js","app/components/tabs/index.js","app/components/tabs/styles.js","app/dice.js","app/initialize.js","app/random/index.js","app/random/names/bauhaus.js","app/random/names/capitol.js","app/random/names/imperial.js","app/random/names/index.js","app/random/names/mishima.js","app/random/prototype_definitions.js","app/random/utilities.js","app/rules.js","app/style_manager.js"],"names":["rules","printableSign","num","GeneralInfomationComponent","view","vnode","character","attrs","name","age","gender","affiliation","socialStanding","profession","height","weight","generalInformation","columns","title","getRows","renderRow","prop","val","className","textAlignRight","BasicCapabilitiesComponent","STR","PHY","COR","INT","MST","PER","basicCapabilities","CombatStatisticsComponent","bc","ma","movementAllowance","ob","offensiveBonus","act","actionsPerRound","db","defensiveBonus","pb","perceptionBonus","ib","initiativeBonus","totalBodyPoints","bodyPoints","level","squaresPerAction","metersPerMinute","toFixed","toString","BodyPointsComponent","bodyParts","Object","keys","map","bp","SkillTableComponent","skills","value","SkillsComponent","flex","spacingRight","combat","firearms","communication","technical","movement","special","CharacterComponent","fwTables","solarized","GenericTableComponent","constructor","async","getHead","length","col","MainComponent","tabs","navigation","content","criminals","streetScum","main","RuleTables","n","v","TabsComponent","DEFAULT_NAVIGATION","selectedNode","component","tabNodeList","getTabs","tabContent","getCurrentContent","node","type","tabNode","active","getCurrentNode","onclick","onTabClick","bind","filter","spacing","small","row","castExpr","extendedCast","cast","die","d4","d6","d8","d10","d12","d20","d100","expr","Error","diceCount","dieSides","options","mod","outcomes","i","push","sort","reverse","slice","top","result","reduce","a","b","Math","min","max","sides","random","document","addEventListener","mount","body","console","log","getCharacter","dice","corps","characterPrototypes","brotherhood","mundane","corporate","cartel","freelancer","heretics","levels","protoDef","dc","args","pow","apply","corp","chance","real","rollSkills","skillDefs","baseVal","baseChance","lessChance","moreChance","extra","less","more","randVal","count","pass1","skill","smartBaseSkillValue","includes","picked","diff","tries","idx","skillName","rawGerFemale","rawGerMale","rawRusMale","rawRusFemale","rawMale","rawFemale","getRandomName","bauhaus","capitol","imperial","mishima","cybertronic","out","next","dispatch","obj","src","split","def","local","randomIndex","pickOne","arr","startingNoOfSkillPicks","ageModifier","baseSkillValue","pick","table","compareTo","isLast","lvl","desc","assets","int","relevantMods","gbc","bc1","bc2","v1","v2","sum","ceil","floor","head","chest","leftArm","rightArm","stomach","leftLeg","rightLeg","gcb","gcs","registerStyles","style","createElement","css","innerText","appendChild"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC9uCA;;;;AAEA;;;;AAEA;;AACA;;;;AACA;;;;AACA;;;;AACA;;IAAYA,K;;;;;;AAEZ,SAASC,aAAT,CAAwBC,GAAxB,EAA6B;AAC3B,SAAOA,QAAQ,CAAR,GAAY,GAAZ,GAAkBA,MAAM,CAAN,GAAU,GAAV,GAAgB,GAAzC;AACD;;AAED,MAAMC,0BAAN,CAAiC;AAC/BC,OAAMC,KAAN,EAAa;AACX,UAAMC,YAAYD,MAAME,KAAN,CAAYD,SAA9B;AACA,UAAM;AACJE,UADI;AAEJC,SAFI;AAGJC,YAHI;AAIJC,iBAJI;AAKJC,oBALI;AAMJC,gBANI;AAOJC,YAPI;AAQJC;AARI,QASFT,UAAUU,kBATd;;AAWA,WAAO,gDAAyB;AAC9BC,eAAS,CACP,EAACC,OAAO,OAAR,EADO,EAEP,EAACA,OAAO,OAAR,EAFO,CADqB;AAK9BC,eAAS,MAAM,CACb,CAAC,gBAAD,EAAmBX,IAAnB,CADa,EAEb,CAAC,QAAD,EAAWE,MAAX,CAFa,EAGb,CAAC,iBAAD,EAAoBE,cAApB,CAHa,EAIb,CAAC,aAAD,EAAgBG,MAAhB,CAJa,EAKb,CAAC,aAAD,EAAgBD,MAAhB,CALa,EAMb,CAAC,KAAD,EAAQL,GAAR,CANa,EAOb,CAAC,aAAD,EAAgBE,WAAhB,CAPa,EAQb,CAAC,YAAD,EAAeE,UAAf,CARa,CALe;AAe9BO,iBAAW,CAAC,CAACC,IAAD,EAAOC,GAAP,CAAD,KAAiB,uBAAE,IAAF,EAAQ,CAClC,uBAAE,IAAF,EAAQD,IAAR,CADkC,EAElC,uBAAE,IAAF,EAAQ,EAACE,WAAW,wBAAOC,cAAnB,EAAR,EAA4CF,GAA5C,CAFkC,CAAR;AAfE,KAAzB,CAAP;AAoBD;AAlC8B;;AAqCjC,MAAMG,0BAAN,CAAiC;AAC/BrB,OAAMC,KAAN,EAAa;AACX,WAAO,gDAAyB;AAC9BY,eAAS,CACP,EAACC,OAAO,YAAR,EADO,EAEP,EAACA,OAAO,OAAR,EAFO,CADqB;AAK9BC,eAAS,MAAM;AACb,cAAM;AACJO,aADI;AAEJC,aAFI;AAGJC,aAHI;AAIJC,aAJI;AAKJC,aALI;AAMJC;AANI,YAOD1B,MAAME,KAAN,CAAYD,SAAZ,CAAsB0B,iBAP3B;AAQA,eAAO,CACL,CAAC,KAAD,EAAQN,GAAR,CADK,EAEL,CAAC,KAAD,EAAQC,GAAR,CAFK,EAGL,CAAC,KAAD,EAAQC,GAAR,CAHK,EAIL,CAAC,KAAD,EAAQC,GAAR,CAJK,EAKL,CAAC,KAAD,EAAQC,GAAR,CALK,EAML,CAAC,KAAD,EAAQC,GAAR,CANK,CAAP;AAQD,OAtB6B;AAuB9BX,iBAAW,CAAC,CAACC,IAAD,EAAOC,GAAP,CAAD,KAAiB,uBAAE,IAAF,EAAQ,CAClC,uBAAE,IAAF,EAAQD,IAAR,CADkC,EAElC,uBAAE,IAAF,EAAQ,EAACE,WAAW,wBAAOC,cAAnB,EAAR,EAA4CF,GAA5C,CAFkC,CAAR;AAvBE,KAAzB,CAAP;AA4BD;AA9B8B;;AAiCjC,MAAMW,yBAAN,CAAgC;AAC9B7B,OAAMC,KAAN,EAAa;AACX,UAAMC,YAAYD,MAAME,KAAN,CAAYD,SAA9B;AACA,UAAM4B,KAAK5B,UAAU0B,iBAArB;;AAEA,UAAMG,KAAKnC,MAAMoC,iBAAN,CAAwBF,EAAxB,CAAX;AACA,UAAMG,KAAKrC,MAAMsC,cAAN,CAAqBJ,EAArB,CAAX;AACA,UAAMK,MAAMvC,MAAMwC,eAAN,CAAsBN,EAAtB,CAAZ;AACA,UAAMO,KAAKzC,MAAM0C,cAAN,CAAqBR,EAArB,CAAX;AACA,UAAMS,KAAK3C,MAAM4C,eAAN,CAAsBV,EAAtB,CAAX;AACA,UAAMW,KAAK7C,MAAM8C,eAAN,CAAsBZ,EAAtB,CAAX;AACA,UAAM,EAACa,eAAD,KAAoB/C,MAAMgD,UAAN,CAAiBd,EAAjB,CAA1B;;AAEA,WAAO,gDAAyB;AAC9BjB,eAAS,CACP,EAACC,OAAO,UAAR,EADO,EAEP,EAACA,OAAO,OAAR,EAFO,CADqB;AAK9BC,eAAS,MAAM,CACb,CAAC,OAAD,EAAUb,UAAUU,kBAAV,CAA6BiC,KAAvC,CADa,EAEb,CAAC,aAAD,EAAgBF,eAAhB,CAFa,EAGb,CAAC,6BAAD,EAAgCZ,GAAGe,gBAAnC,CAHa,EAIb,CAAC,2BAAD,EAA8Bf,GAAGgB,eAAH,CAAmBC,OAAnB,CAA2B,CAA3B,CAA9B,CAJa,EAKb,CAAC,uBAAD,EAA0BnD,cAAc4C,EAAd,IAAoBA,GAAGQ,QAAH,EAA9C,CALa,EAMb,CAAC,sBAAD,EAAyBpD,cAAcoC,EAAd,IAAoBA,GAAGgB,QAAH,EAA7C,CANa,EAOb,CAAC,cAAD,EAAiBd,GAAjB,CAPa,EAQb,CAAC,iBAAD,EAAoBtC,cAAcwC,EAAd,IAAoBA,GAAGY,QAAH,EAAxC,CARa,EASb,CAAC,kBAAD,EAAqBpD,cAAc0C,EAAd,IAAoBA,GAAGU,QAAH,EAAzC,CATa,CALe;AAgB9BjC,iBAAW,CAAC,CAACC,IAAD,EAAOC,GAAP,CAAD,KAAiB,uBAAE,IAAF,EAAQ,CAClC,uBAAE,IAAF,EAAQD,IAAR,CADkC,EAElC,uBAAE,IAAF,EAAQ,EAACE,WAAW,wBAAOC,cAAnB,EAAR,EAA4CF,GAA5C,CAFkC,CAAR;AAhBE,KAAzB,CAAP;AAqBD;AAlC6B;;AAqChC,MAAMgC,mBAAN,CAA0B;AACxBlD,OAAMC,KAAN,EAAa;AACX,UAAMC,YAAYD,MAAME,KAAN,CAAYD,SAA9B;AACA,UAAM4B,KAAK5B,UAAU0B,iBAArB;AACA,UAAM,EAACuB,SAAD,KAAcvD,MAAMgD,UAAN,CAAiBd,EAAjB,CAApB;AACA,WAAO,gDAAyB;AAC9BjB,eAAS,CACP,EAACC,OAAO,WAAR,EADO,EAEP,EAACA,OAAO,QAAR,EAFO,CADqB;AAK9BC,eAAS,MAAMqC,OAAOC,IAAP,CAAYF,SAAZ,EAAuBG,GAAvB,CAA2BC,MAAM,CAC9CA,EAD8C,EAE9CJ,UAAUI,EAAV,CAF8C,CAAjC,CALe;AAS9BvC,iBAAW,CAAC,CAACC,IAAD,EAAOC,GAAP,CAAD,KAAiB,uBAAE,IAAF,EAAQ,CAClC,uBAAE,IAAF,EAAQD,IAAR,CADkC,EAElC,uBAAE,IAAF,EAAQ,EAACE,WAAW,wBAAOC,cAAnB,EAAR,EAA4CF,GAA5C,CAFkC,CAAR;AATE,KAAzB,CAAP;AAcD;AAnBuB;;AAsB1B,MAAMsC,mBAAN,CAA0B;AACxBxD,OAAMC,KAAN,EAAa;AACX,UAAMwD,SAASxD,MAAME,KAAN,CAAYsD,MAA3B;;AAEA,WAAO,gDAAyB;AAC9B1C,eAAS,MAAM0C,OAAOH,GAAP,CAAW,CAAC,CAAClD,IAAD,EAAOsD,KAAP,CAAD,KAAmB,CAC3CtD,IAD2C,EAE3CsD,KAF2C,CAA9B,CADe;AAK9B1C,iBAAW,CAAC,CAACC,IAAD,EAAOC,GAAP,CAAD,KAAiB,uBAAE,IAAF,EAAQ,CAClC,uBAAE,IAAF,EAAQD,IAAR,CADkC,EAElC,uBAAE,IAAF,EAAQ,EAACE,WAAW,wBAAOC,cAAnB,EAAR,EAA4CF,GAA5C,CAFkC,CAAR;AALE,KAAzB,CAAP;AAUD;AAduB;;AAiB1B,MAAMyC,eAAN,CAAsB;AACpB3D,OAAMC,KAAN,EAAa;AACX,UAAMC,YAAYD,MAAME,KAAN,CAAYD,SAA9B;;AAEA,WAAO,uBAAE,KAAF,EAAS,EAACiB,WAAW,wBAAOyC,IAAnB,EAAT,EAAmC,CACxC,uBAAE,KAAF,EAAS,EAACzC,WAAW,wBAAO0C,YAAnB,EAAT,EAA2C,CACzC,uBAAE,IAAF,EAAQ,QAAR,CADyC,EAEzC,uBAAEL,mBAAF,EAAuB,EAACC,QAAQvD,UAAUuD,MAAV,CAAiBK,MAA1B,EAAvB,CAFyC,CAA3C,CADwC,EAKxC,uBAAE,KAAF,EAAS,EAAC3C,WAAW,wBAAO0C,YAAnB,EAAT,EAA2C,CACzC,uBAAE,IAAF,EAAQ,UAAR,CADyC,EAEzC,uBAAEL,mBAAF,EAAuB,EAACC,QAAQvD,UAAUuD,MAAV,CAAiBM,QAA1B,EAAvB,CAFyC,CAA3C,CALwC,EASxC,uBAAE,KAAF,EAAS,EAAC5C,WAAW,wBAAO0C,YAAnB,EAAT,EAA2C,CACzC,uBAAE,IAAF,EAAQ,eAAR,CADyC,EAEzC,uBAAEL,mBAAF,EAAuB,EAACC,QAAQvD,UAAUuD,MAAV,CAAiBO,aAA1B,EAAvB,CAFyC,CAA3C,CATwC,EAaxC,uBAAE,KAAF,EAAS,EAAC7C,WAAW,wBAAO0C,YAAnB,EAAT,EAA2C,CACzC,uBAAE,IAAF,EAAQ,WAAR,CADyC,EAEzC,uBAAEL,mBAAF,EAAuB,EAACC,QAAQvD,UAAUuD,MAAV,CAAiBQ,SAA1B,EAAvB,CAFyC,CAA3C,CAbwC,EAiBxC,uBAAE,KAAF,EAAS,EAAC9C,WAAW,wBAAO0C,YAAnB,EAAT,EAA2C,CACzC,uBAAE,IAAF,EAAQ,UAAR,CADyC,EAEzC,uBAAEL,mBAAF,EAAuB,EAACC,QAAQvD,UAAUuD,MAAV,CAAiBS,QAA1B,EAAvB,CAFyC,CAA3C,CAjBwC,EAqBxC,uBAAE,KAAF,EAAS,EAAC/C,WAAW,wBAAO0C,YAAnB,EAAT,EAA2C,CACzC,uBAAE,IAAF,EAAQ,SAAR,CADyC,EAEzC,uBAAEL,mBAAF,EAAuB,EAACC,QAAQvD,UAAUuD,MAAV,CAAiBU,OAA1B,EAAvB,CAFyC,CAA3C,CArBwC,CAAnC,CAAP;AA0BD;AA9BmB;;AAiCP,MAAMC,kBAAN,CAAyB;AACtCpE,OAAMC,KAAN,EAAa;AACX,UAAMC,YAAYD,MAAME,KAAN,CAAYD,SAA9B;;AAEA,WAAO,uBAAE,KAAF,EAAS,EAAT,EAAa,CAClB,uBAAE,IAAF,EAAS,wBAAuBA,UAAUU,kBAAV,CAA6BR,IAAK,EAAlE,CADkB,EAElB,uBAAE,KAAF,EAAS,EAAT,EAAa,CACX,uBAAE,KAAF,EAAS,EAACe,WAAW,iBAAOkD,QAAnB,EAAT,EAAuC,CACrC,uBAAE,KAAF,EAAS,EAAClD,WAAW,wBAAOyC,IAAnB,EAAT,EAAmC,CACjC,uBAAE,KAAF,EAAS,EAACzC,WAAW,wBAAO0C,YAAnB,EAAT,EAA2C,CACzC,uBAAE,IAAF,EAAQ,qBAAR,CADyC,EAEzC,uBAAE9D,0BAAF,EAA8B,EAACG,SAAD,EAA9B,CAFyC,CAA3C,CADiC,EAKjC,uBAAE,KAAF,EAAS,EAACiB,WAAW,wBAAO0C,YAAnB,EAAT,EAA2C,CACzC,uBAAE,IAAF,EAAQ,oBAAR,CADyC,EAEzC,uBAAExC,0BAAF,EAA8B,EAACnB,SAAD,EAA9B,CAFyC,CAA3C,CALiC,EASjC,uBAAE,KAAF,EAAS,EAACiB,WAAW,wBAAO0C,YAAnB,EAAT,EAA2C,CACzC,uBAAE,IAAF,EAAQ,mBAAR,CADyC,EAEzC,uBAAEhC,yBAAF,EAA6B,EAAC3B,SAAD,EAA7B,CAFyC,CAA3C,CATiC,EAajC,uBAAE,KAAF,EAAS,EAACiB,WAAW,wBAAO0C,YAAnB,EAAT,EAA2C,CACzC,uBAAE,IAAF,EAAQ,aAAR,CADyC,EAEzC,uBAAEX,mBAAF,EAAuB,EAAChD,SAAD,EAAvB,CAFyC,CAA3C,CAbiC,CAAnC,CADqC,CAAvC,CADW,EAqBX,uBAAE,KAAF,EAAS,EAAT,EAAa,CACX,uBAAE,IAAF,EAAQ,QAAR,CADW,EAEX,uBAAEyD,eAAF,EAAmB,EAACzD,SAAD,EAAnB,CAFW,CAAb,CArBW,CAAb,CAFkB,CAAb,CAAP;AA6BD;AAjCqC;kBAAnBkE,kB;;;;;;;;;;ACjMrB;;;;;;kBAEe,cAAK;;;;;;;;;;;;;;ACFpB;;;;;;AAEA,MAAME,YAAa;;;;;;;;;;;;;;;;;;CAAnB;;kBAoBe,cAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtBpB;;;;;;AAEe,MAAMC,qBAAN,CAA4B;AACzCC,cAAavE,KAAb,EAAoB;AAClB,UAAME,QAAQF,MAAME,KAApB;AACA,SAAKsE,KAAL,GAAatE,MAAMsE,KAAnB;AACA,SAAK5D,OAAL,GAAeV,MAAMU,OAAN,IAAiB,EAAhC;AACA,SAAKE,OAAL,GAAeZ,MAAMY,OAArB;AACA,SAAKC,SAAL,GAAiBb,MAAMa,SAAvB;AACD;;AAEDhB,OAAMC,KAAN,EAAa;AACX,WAAO,uBAAE,OAAF,EAAW,CAChB,KAAKyE,OAAL,EADgB,EAEhB,uBAAE,OAAF,EAAW,CACT,KAAK3D,OAAL,GAAeuC,GAAf,CAAmB,KAAKtC,SAAxB,CADS,CAAX,CAFgB,CAAX,CAAP;AAMD;;AAED0D,YAAW;AACT,QAAI,KAAK7D,OAAL,CAAa8D,MAAb,KAAwB,CAA5B,EAA+B;AAC7B,aAAO,KAAK,CAAZ;AACD;;AAED,WAAO,uBAAE,OAAF,EAAW,CAChB,uBAAE,IAAF,EAAQ,KAAK9D,OAAL,CAAayC,GAAb,CAAiBsB,OAAO,uBAAE,IAAF,EAAQA,IAAI9D,KAAZ,CAAxB,CAAR,CADgB,CAAX,CAAP;AAGD;AA1BwC;kBAAtByD,qB;;;;;;;;;;ACFrB;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;AACA;;;;AAEe,MAAMM,aAAN,CAAoB;AACjC7E,SAAQ;AACN,UAAM8E,OAAO,uCAAiB;AAC5BC,kBAAY,CACV;AACEjE,eAAO,YADT;AAEEkE,iBAAS,MAAM,4CAAsB,EAAC9E,WAAW,0BAAa,gCAAU+E,SAAV,CAAoBC,UAAjC,EAA6C,gBAAK,CAAL,EAAQ,EAAR,CAA7C,CAAZ,EAAtB;AAFjB,OADU,EAKV,EAACpE,OAAO,QAAR,EAAkBkE,SAAS,MAAM,6CAAjC,EALU,EAMV,EAAClE,OAAO,QAAR,EAAkBkE,SAAS,MAAM,uBAAE,KAAF,EAAS,QAAT,CAAjC,EANU,EAOV,EAAClE,OAAO,eAAR,EAAyBkE,SAAS,MAAM,uBAAE,KAAF,EAAS,CAC/C,uBAAE,KAAF,EAAS,QAAT,CAD+C,EAE/C,uBAAE,KAAF,EAAS,QAAT,CAF+C,CAAT,CAAxC,EAPU;AADgB,KAAjB,CAAb;AAcA,WAAO,uBAAE,KAAF,EAAS,EAAC7D,WAAW,iBAAOgE,IAAnB,EAAT,EAAmC,CACxCL,IADwC,CAAnC,CAAP;AAGD;AAnBgC;kBAAdD,a;;;;;;;;;;ACXrB;;;;AAEA;;;;;;kBAEe,cAAK;gBACJ,wBAAOD,GAAI;;;;;;;;;;;;;;ACL3B;;;;;;AAEe,MAAMQ,UAAN,CAAiB;AAC9BpF,SAAQ;AACN,WAAO,uBAAE,KAAF,EAAS,CACd,uBAAE,OAAF,EAAW,CACT,uBAAE,OAAF,EAAW,CAAC,GAAD,EAAM,GAAN,EAAWsD,GAAX,CAAe+B,KAAK,uBAAE,IAAF,EAAQ,CAAC,CAAD,EAAI,CAAJ,EAAO/B,GAAP,CAAWgC,KAAK,uBAAE,IAAF,EAAQD,IAAIC,CAAZ,CAAhB,CAAR,CAApB,CAAX,CADS,CAAX,CADc,CAAT,CAAP;AAKD;AAP6B;kBAAXF,U;;;;;;;;;;ACFrB;;;;AACA;;;;AACA;;;;;;AAEe,MAAMG,aAAN,CAAoB;AACjC,SAAOC,kBAAP,GAA6B;AAC3B,WAAO,CAAC,EAAC1E,OAAO,OAAR,EAAiBkE,SAAS,MAAM,uBAAE,KAAF,EAAS,OAAT,CAAhC,EAAD,CAAP;AACD;;AAEDR,cAAavE,KAAb,EAAoB;AAClB,SAAK8E,UAAL,GAAkB9E,MAAME,KAAN,CAAY4E,UAAZ,IAA0BQ,cAAcC,kBAAd,EAA5C;AACA,SAAKC,YAAL,GAAoB,KAAKV,UAAL,CAAgB,CAAhB,CAApB;AACD;;AAED/E,OAAMC,KAAN,EAAa;AACX,WAAO,uBAAE,KAAF,EAAS,EAACkB,WAAW,iBAAOuE,SAAnB,EAAT,EAAwC,CAC7C,uBAAE,KAAF,EAAS,EAACvE,WAAW,iBAAOwE,WAAnB,EAAT,EAA0C,KAAKC,OAAL,EAA1C,CAD6C,EAE7C,uBAAE,KAAF,EAAS,EAACzE,WAAW,iBAAO0E,UAAnB,EAAT,EAAyC,KAAKC,iBAAL,EAAzC,CAF6C,CAAxC,CAAP;AAID;;AAEDF,YAAW;AACT,WAAO,KAAKb,UAAL,CAAgBzB,GAAhB,CAAoByC,QAAQ,uBAAE,QAAF,EAAY;AAC7CC,YAAM,QADuC;AAE7C7E,iBAAW,0BAAW,iBAAO8E,OAAP,CAAehD,QAAf,EAAX,EAAsC;AAC/C,SAAC,iBAAOiD,MAAP,CAAcjD,QAAd,EAAD,GAA4B8C,QAAQ,KAAKI,cAAL;AADW,OAAtC,CAFkC;AAK7CC,eAAS,KAAKC,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,EAA2BP,IAA3B;AALoC,KAAZ,EAMhCA,KAAKjF,KAN2B,CAA5B,CAAP;AAOD;;AAEDuF,aAAYN,IAAZ,EAAkB;AAChB,SAAKN,YAAL,GAAoBM,IAApB;AACD;;AAEDI,mBAAkB;AAChB,WAAO,KAAKpB,UAAL,CAAgBwB,MAAhB,CAAuBR,QAAQA,SAAS,KAAKN,YAA7C,EAA2D,CAA3D,CAAP;AACD;;AAEDK,sBAAqB;AACnB,WAAO,KAAKK,cAAL,GAAsBnB,OAAtB,EAAP;AACD;AArCgC;kBAAdO,a;;;;;;;;;;ACJrB;;;;AAEA;;;;;;AAEA,MAAMiB,UAAU;AACdC,SAAO;AADO,CAAhB;;kBAIe,cAAK;qBACC,wBAAO7B,GAAI;;;;;;;;;sBASV,wBAAO8B,GAAI;;;;aAIpBF,QAAQC,KAAM;;;;;;;;;;;;;;;;;;;;;;QCtBXE,Q,GAAAA,Q;QASAC,Y,GAAAA,Y;QAsBAC,I,GAAAA,I;QASAC,G,GAAAA,G;QAIAC,E,GAAAA,E;QAIAC,E,GAAAA,E;QAIAC,E,GAAAA,E;QAIAC,G,GAAAA,G;QAIAC,G,GAAAA,G;QAIAC,G,GAAAA,G;QAIAC,I,GAAAA,I;AApET,SAASV,QAAT,CAAmBW,IAAnB,EAAyB;AAC9B;;;;;AAKA,QAAM,IAAIC,KAAJ,CAAU,iBAAV,CAAN;AACD;;AAEM,SAASX,YAAT,CAAuBY,SAAvB,EAAkCC,QAAlC,EAA4CC,OAA5C,EAAqD;AAC1D,QAAMC,MAAMD,QAAQC,GAAR,IAAe,CAA3B;AACA,MAAIC,WAAW,EAAf;AACA,OAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIL,SAApB,EAA+B,EAAEK,CAAjC,EAAoC;AAClCD,aAASE,IAAT,CAAchB,IAAIW,QAAJ,CAAd;AACD;AACD,MAAI,SAASC,OAAb,EAAsB;AACpBE,aAASG,IAAT,GAAgBC,OAAhB;AACAJ,eAAWA,SAASK,KAAT,CAAe,CAAf,EAAkBP,QAAQQ,GAA1B,CAAX;AACD;;AAED,MAAIC,SAASP,SAASQ,MAAT,CAAgB,CAACC,CAAD,EAAIC,CAAJ,KAAUD,IAAIC,CAA9B,EAAiCX,GAAjC,CAAb;AACA,MAAI,SAASD,OAAb,EAAsB;AACpBS,aAASI,KAAKC,GAAL,CAASd,QAAQe,GAAjB,EAAsBN,MAAtB,CAAT;AACD;AACD,MAAI,SAAST,OAAb,EAAsB;AACpBS,aAASI,KAAKE,GAAL,CAASf,QAAQc,GAAjB,EAAsBL,MAAtB,CAAT;AACD;;AAED,SAAOA,MAAP;AACD;;AAEM,SAAStB,IAAT,CAAeW,SAAf,EAA0BC,QAA1B,EAAoCE,MAAM,CAA1C,EAA6C;AAClD,MAAIQ,SAASR,GAAb;AACA,OAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAIL,SAApB,EAA+B,EAAEK,CAAjC,EAAoC;AAClCM,cAAUrB,IAAIW,QAAJ,CAAV;AACD;;AAED,SAAOU,MAAP;AACD;;AAEM,SAASrB,GAAT,CAAc4B,KAAd,EAAqB;AAC1B,SAAO,KAAMH,KAAKI,MAAL,KAAgBD,KAAjB,GAA0B,CAA/B,CAAP;AACD;;AAEM,SAAS3B,EAAT,GAAe;AACpB,SAAOD,IAAI,CAAJ,CAAP;AACD;;AAEM,SAASE,EAAT,GAAe;AACpB,SAAOF,IAAI,CAAJ,CAAP;AACD;;AAEM,SAASG,EAAT,GAAe;AACpB,SAAOH,IAAI,CAAJ,CAAP;AACD;;AAEM,SAASI,GAAT,GAAgB;AACrB,SAAOJ,IAAI,EAAJ,CAAP;AACD;;AAEM,SAASK,GAAT,GAAgB;AACrB,SAAOL,IAAI,EAAJ,CAAP;AACD;;AAEM,SAASM,GAAT,GAAgB;AACrB,SAAON,IAAI,EAAJ,CAAP;AACD;;AAEM,SAASO,IAAT,GAAiB;AACtB,SAAOP,IAAI,GAAJ,CAAP;AACD;;;;;;ACtED;;;;AACA;;AAEA;;;;;;AAEA8B,SAASC,gBAAT,CAA0B,kBAA1B,EAA8C,MAAM;AAClD;AACA,oBAAEC,KAAF,CAAQF,SAASG,IAAjB;AACA,qCAAeH,QAAf;AACAI,UAAQC,GAAR,CAAY,iBAAZ;AACD,CALD;;;;;;;;;QC4CgBC,Y,GAAAA,Y;;AAjDhB;;IAAYC,I;;AACZ;;IAAYvJ,K;;AACZ;;AACA;;;;AACA,MAAM,EAAC6D,MAAD,KAAW7D,KAAjB;;AAEA,MAAMwJ,QAAQ,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,EAAkC,UAAlC,EAA8C,aAA9C,CAAd;AACA,MAAMC,sBAAsB;AAC1BpE,aAAW,CACT,YADS,EAET,UAFS,EAGT,SAHS,CADe;AAM1BqE,eAAa,CACX,YADW,EAEX,QAFW,EAGX,SAHW,EAIX,cAJW,CANa;AAY1BC,WAAS,CACP,WADO,EAEP,cAFO,CAZiB;AAgB1BC,aAAW,CACT,QADS,EAET,UAFS,CAhBe;AAoB1BC,UAAQ,CACN,OADM,EAEN,aAFM,CApBkB;AAwB1BC,cAAY,CACV,WADU,EAEV,eAFU,CAxBc;AA4B1BC,YAAU,CACR,aADQ;;AAKZ;;;;;;;AAjC4B,CAA5B,CAwCA,MAAMC,SAAS,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,EAAS,CAAT,EAAW,CAAX,EAAa,CAAb,EAAe,CAAf,EAAiB,CAAjB,EAAmB,EAAnB,CAAf;;AAEO,SAASV,YAAT,CAAuBW,QAAvB,EAAiChH,QAAQ,CAAzC,EAA4C;AACjD,WAASiH,EAAT,CAAaC,IAAb,EAAmB;AACjB;;;;;;;;;;;;;AAaA,UAAMpC,MAAOY,KAAKyB,GAAL,CAASnH,QAAQ,CAAjB,EAAoB,CAApB,IAAyB,IAA1B,GAAgC,CAA5C;AACA,WAAOsG,KAAKvC,YAAL,CAAkBqD,KAAlB,CAAwB,IAAxB,EAA8BF,IAA9B,IAAsCpC,GAA7C;AACD;;AAED,QAAMuC,OAAO,wBAAQd,KAAR,CAAb;AACA,QAAM9I,SAASiI,KAAKI,MAAL,KAAgB,GAAhB,GAAsB,GAAtB,GAA4B,GAA3C;AACA,QAAMlI,aAAaoJ,SAASzJ,IAA5B;AACA,QAAMQ,qBAAqB;AACzBiC,SADyB;AAEzBzC,UAAM,0BAAc8J,IAAd,EAAoB5J,MAApB,CAFmB;AAGzBD,SAAKyJ,GAAGD,SAASjJ,kBAAT,CAA4BP,GAA/B,CAHoB;AAIzBC,UAJyB;AAKzBI,YAAQoJ,GAAGD,SAASjJ,kBAAT,CAA4BF,MAA/B,CALiB;AAMzBC,YAAQmJ,GAAGD,SAASjJ,kBAAT,CAA4BD,MAA/B,CANiB;AAOzBH,oBAAgBsJ,GAAGD,SAASjJ,kBAAT,CAA4BJ,cAA/B,CAPS;AAQzBD,iBAAasJ,SAASjJ,kBAAT,CAA4BL,WAA5B,CAAwCiJ,SAAxC,GACX,CAACU,IAAD,CADW,GACF,EATc;AAUzBzJ;AAVyB,GAA3B;;AAaA,QAAMmB,oBAAoB;AACxBN,SAAKwI,GAAGD,SAASjI,iBAAT,CAA2BN,GAA9B,CADmB;AAExBC,SAAKuI,GAAGD,SAASjI,iBAAT,CAA2BL,GAA9B,CAFmB;AAGxBC,SAAKsI,GAAGD,SAASjI,iBAAT,CAA2BJ,GAA9B,CAHmB;AAIxBC,SAAKqI,GAAGD,SAASjI,iBAAT,CAA2BH,GAA9B,CAJmB;AAKxBC,SAAKoI,GAAGD,SAASjI,iBAAT,CAA2BF,GAA9B,CALmB;AAMxBC,SAAKmI,GAAGD,SAASjI,iBAAT,CAA2BD,GAA9B;AANmB,GAA1B;;AASA,WAASwI,MAAT,CAAiBC,IAAjB,EAAuB;AACrB,WAAO7B,KAAKI,MAAL,KAAgByB,IAAvB;AACD;;AAED,WAASC,UAAT,CAAqBC,SAArB,EAAgC7G,MAAhC,EAAwC;AACtC;;;;;;;;;;;;;AAaA,UAAM8G,UAAU1H,QAAS0F,KAAKyB,GAAL,CAASnH,QAAQ,CAAjB,EAAoB,GAApB,IAA2B,EAApC,GAAwC,CAAxD;AACA,UAAM2H,aAAa,IAAnB;AACA,UAAMC,aAAa,IAAnB;AACA,UAAMC,aAAa,IAAnB;;AAEA,UAAMlC,MAAM8B,UAAU9B,GAAV,IAAiB,CAA7B;AACA,UAAMC,MAAM6B,UAAU7B,GAAV,IAAiB,IAA7B;AACA,UAAMkC,QAAQL,UAAUK,KAAV,IAAmB,EAAjC;AACA,UAAMC,OAAOD,MAAMC,IAAN,IAAc,EAA3B;AACA,UAAMC,OAAOF,MAAME,IAAN,IAAc,EAA3B;;AAEA,aAASC,OAAT,GAAoB;AAClB,aAAOP,UAAUpB,KAAKtC,IAAL,CAAU,CAAV,EAAa,CAAb,CAAjB;AACD;;AAGD,QAAIkE,QAAQ,CAAZ;;AAEA,UAAMC,QAAQvH,OAAOH,GAAP,CAAW2H,SAAS;AAChC,UAAIvH,QAAQ9D,MAAMsL,mBAAN,CAA0BtJ,iBAA1B,EAA6CqJ,KAA7C,CAAZ;AACA,UAAI,CAACxC,GAAD,IAAQsC,SAAStC,GAArB,EAA0B;AACxB,YAAImC,KAAKO,QAAL,CAAcF,MAAM7K,IAApB,CAAJ,EAA+B;AAC7B,cAAI+J,OAAOM,UAAP,CAAJ,EAAwB;AACtBM;AACArH,oBAAQoH,SAAR;AACD;AACF,SALD,MAKO,IAAID,KAAKM,QAAL,CAAcF,MAAM7K,IAApB,CAAJ,EAA+B;AACpC,cAAI+J,OAAOO,UAAP,CAAJ,EAAwB;AACtBK;AACArH,oBAAQoH,SAAR;AACD;AACF,SALM,MAKA;AACL,cAAIX,OAAOK,UAAP,CAAJ,EAAwB;AACtBO;AACArH,oBAAQoH,SAAR;AACD;AACF;AACF;;AAED,aAAO,CAACG,MAAM7K,IAAP,EAAamI,KAAKE,GAAL,CAAS/E,KAAT,EAAgBb,KAAhB,CAAb,CAAP;AACD,KAtBa,CAAd;;AAwBA,QAAIkI,QAAQvC,GAAZ,EAAiB;AACf,YAAM4C,SAAS,EAAf;AACA,YAAMC,OAAO7C,MAAMuC,KAAnB;AACA,WAAK,IAAIlD,IAAI,CAAR,EAAWyD,QAAQ,CAAxB,EACKzD,IAAIwD,IAAJ,IAAYC,QAAQ,GADzB,EAEK,EAAEzD,CAAF,EAAK,EAAEyD,KAFZ,EAEmB;AACjB,cAAMC,MAAM,4BAAYP,KAAZ,CAAZ;AACA,YAAII,OAAOD,QAAP,CAAgBI,GAAhB,CAAJ,EAA0B;AACxB,YAAE1D,CAAF;AACA;AACD,SAHD,MAGO;AACLuD,iBAAOtD,IAAP,CAAYyD,GAAZ;AACA,gBAAM,CAACC,SAAD,EAAY9H,KAAZ,IAAqBsH,MAAMO,GAAN,CAA3B;AACAP,gBAAMO,GAAN,IAAa,CAACC,SAAD,EAAYV,SAAZ,CAAb;AACD;AACF;AACF;AACD,WAAOE,KAAP;AACD;;AAED,SAAO;AACLpK,sBADK;AAELgB,qBAFK;AAGL6B,YAAQ;AACNK,cAAQuG,WAAWR,SAASpG,MAAT,CAAgBK,MAA3B,EAAmCL,OAAOK,MAAP,CAAcmE,KAAd,EAAnC,CADF;AAENlE,gBAAUsG,WAAWR,SAASpG,MAAT,CAAgBM,QAA3B,EAAqCN,OAAOM,QAAP,CAAgBkE,KAAhB,EAArC,CAFJ;AAGNjE,qBAAeqG,WAAWR,SAASpG,MAAT,CAAgBO,aAA3B,EAA0CP,OAAOO,aAAP,CAAqBiE,KAArB,EAA1C,CAHT;AAIN/D,gBAAUmG,WAAWR,SAASpG,MAAT,CAAgBS,QAA3B,EAAqCT,OAAOS,QAAP,CAAgB+D,KAAhB,EAArC,CAJJ;AAKNhE,iBAAWoG,WAAWR,SAASpG,MAAT,CAAgBQ,SAA3B,EAAsCR,OAAOQ,SAAP,CAAiBgE,KAAjB,EAAtC,CALL;AAMN9D,eAAS,CACP,CAAC,OAAD,EAAUvE,MAAM0C,cAAN,CAAqBV,iBAArB,IAA0CuH,KAAKtC,IAAL,CAAU,CAAV,EAAa,CAAb,CAApD,CADO,EAEP,CAAC,YAAD,EAAejH,MAAM4C,eAAN,CAAsBZ,iBAAtB,IAA2CuH,KAAKtC,IAAL,CAAU,CAAV,EAAa,CAAb,CAA1D,CAFO,EAGP,CAAC,SAAD,EAAY,CAAZ,CAHO;AANH;AAHH,GAAP;AAgBD;;;;;;;;;AC7LM,MAAM4E,sCACV;;;;;;;;;;;;;;;;;;;eADI;;AAsBA,MAAMC,kCACV;;;;;;;;;;;;;;;;;;;YADI;;AAsBA,MAAMC,kCACV;;;;;;;;;;;;;;;;;;;8BADI;;AAsBA,MAAMC,sCACV;;;;;;;;;6BADI;;AAYA,MAAMC,4BAAUH,aAAa,IAAb,GAAoBC,UAApC;AACA,MAAMG,gCAAYL,eAAe,IAAf,GAAsBG,YAAxC;;;;;;;;;AC/EA,MAAMC,4BACV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UADI;;AAoDA,MAAMC,gCACV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;cADI;;;;;;;;;ACpDA,MAAMD,4BACV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;aADI;;AAoDA,MAAMC,gCACV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YADI;;;;;;;;;QChCSC,a,GAAAA,a;;AApBhB;;AACA;;IAAYC,O;;AACZ;;IAAYC,O;;AACZ;;IAAYC,Q;;AACZ;;IAAYC,O;;;;AAEZ,MAAMC,cAAc,CAClBJ,OADkB,EAElBC,OAFkB,EAGlBC,QAHkB,EAIlBC,OAJkB,EAKlB/D,MALkB,CAKX,CAACiE,GAAD,EAAMC,IAAN,KAAe;AACtBD,MAAIR,OAAJ,IAAe,OAAOS,KAAKT,OAA3B;AACAQ,MAAIP,SAAJ,IAAiB,OAAOQ,KAAKR,SAA7B;AACA,SAAOO,GAAP;AACD,CATmB,EASjB;AACDR,WAAS,EADR;AAEDC,aAAW;AAFV,CATiB,CAApB;;AAcO,SAASC,aAAT,CAAwB7B,IAAxB,EAA8B5J,MAA9B,EAAsC;AAC3C,QAAMiM,WAAW,EAACP,OAAD,EAAUC,OAAV,EAAmBC,QAAnB,EAA6BC,OAA7B,EAAsCC,WAAtC,EAAjB;AACA,QAAMI,MAAMD,SAASrC,IAAT,CAAZ;AACA,MAAIuC,MAAM,IAAV;AACA,MAAInM,WAAW,GAAf,EAAoB;AAClBmM,UAAMD,IAAI,SAAJ,CAAN;AACD,GAFD,MAEO;AACLC,UAAMD,IAAI,WAAJ,CAAN;AACD;AACDC,QAAMA,IAAIC,KAAJ,CAAU,IAAV,CAAN;AACA,SAAO,wBAAQD,GAAR,CAAP;AACD;;;;;;;;;AC/BM,MAAMX,gCACV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBADI;;AAgCA,MAAMD,4BACV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;aADI;;;;;;;;;AChCP,MAAMc,MAAM;AACV/L,sBAAoB;AAClBL,iBAAa;AACXiJ,iBAAW,KADA;AAEXoD,aAAO;AAFI,KADK;AAKlBlM,YAAQ,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAACiH,KAAK,GAAN,EAAR,CALU;AAMlBhH,YAAQ,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAACgH,KAAK,EAAN,EAAR,CANU;AAOlBtH,SAAK,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAACsH,KAAK,EAAN,EAAR,CAPa,EAOO;AACzBnH,oBAAgB,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR;AARE,GADV;AAWVoB,qBAAmB;AACjB;AACAN,SAAK,CAAC,CAAD,EAAI,CAAJ,EAAO,EAAP,CAFY,EAEA;AACjBC,SAAK,CAAC,CAAD,EAAI,CAAJ,EAAO,EAAP,CAHY;AAIjBC,SAAK,CAAC,CAAD,EAAI,CAAJ,EAAO,EAAP,CAJY;AAKjBC,SAAK,CAAC,CAAD,EAAI,CAAJ,EAAO,EAAP,CALY;AAMjBC,SAAK,CAAC,CAAD,EAAI,CAAJ,EAAO,EAAP,CANY;AAOjBC,SAAK,CAAC,CAAD,EAAI,CAAJ,EAAO,EAAP;AAPY,GAXT;AAoBV8B,UAAQ;AACNK,YAAQ,EAAC0E,KAAK,CAAN,EAASC,KAAK,CAAd,EAAiBkC,OAAO,EAAxB,EADF;AAEN5G,cAAU,EAACyE,KAAK,CAAN,EAASC,KAAK,CAAd,EAAiBkC,OAAO,EAAxB,EAFJ;AAGN3G,mBAAe,EAACwE,KAAK,CAAN,EAASC,KAAK,CAAd,EAAiBkC,OAAO,EAAxB,EAHT;AAINzG,cAAU,EAACsE,KAAK,CAAN,EAASC,KAAK,CAAd,EAAiBkC,OAAO,EAAxB,EAJJ;AAKN1G,eAAW,EAACuE,KAAK,CAAN,EAASC,KAAK,CAAd,EAAiBkC,OAAO,EAAxB,EALL;AAMNxG,aAAS,EAACqE,KAAK,CAAN,EAASC,KAAK,CAAd,EAAiBkC,OAAO,EAAxB;AANH;AApBE,CAAZ;;kBA8Be;AACb1F,aAAW;AACTC,gBAAY;AACV9E,YAAM,sBADI;AAEVQ,0BAAoB;AAClBL,qBAAa;AACXiJ,qBAAW,KADA;AAEXoD,iBAAO;AAFI,SADK;AAKlBlM,gBAAQ,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAACiH,KAAK,GAAN,EAAR,CALU;AAMlBhH,gBAAQ,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAACgH,KAAK,EAAN,EAAR,CANU;AAOlBtH,aAAK,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAACsH,KAAK,EAAN,EAAR,CAPa,EAOO;AACzBnH,wBAAgB,CAAC,CAAD,EAAI,CAAJ,EAAO,EAAP;AARE,OAFV;AAYVoB,yBAAmB;AACjBN,aAAK,CAAC,CAAD,EAAI,CAAJ,EAAO,EAAC4G,KAAK,CAAN,EAAP,CADY;AAEjB3G,aAAK,CAAC,CAAD,EAAI,CAAJ,EAAO,EAACiH,KAAK,EAAN,EAAP,CAFY;AAGjBhH,aAAK,CAAC,CAAD,EAAI,CAAJ,EAAO,EAACgH,KAAK,CAAN,EAAP,CAHY;AAIjB/G,aAAK,CAAC,CAAD,EAAI,CAAJ,EAAO,EAAP,CAJY;AAKjBC,aAAK,CAAC,CAAD,EAAI,CAAJ,EAAO,EAAP,CALY;AAMjBC,aAAK,CAAC,CAAD,EAAI,CAAJ,EAAO,EAAC8G,KAAK,EAAN,EAAP;AANY,OAZT;AAoBVhF,cAAQ;AACNK,gBAAQ,EAAC0E,KAAK,CAAN,EAASC,KAAK,IAAd,EAAoBkC,OAAO,EAACC,MAAM,CAAC,eAAD,CAAP,EAA3B,EADF;AAEN7G,kBAAU,EAACyE,KAAK,CAAN,EAASC,KAAK,IAAd,EAAoBkC,OAAO,EAACE,MAAM,CAAC,UAAD,EAAa,kBAAb,CAAP,EAAyCD,MAAM,CAAC,mBAAD,CAA/C,EAA3B,EAFJ;AAGN5G,uBAAe,EAACwE,KAAK,IAAN,EAAYC,KAAK,IAAjB,EAAuBkC,OAAO,EAA9B,EAHT;AAINzG,kBAAU,EAACsE,KAAK,CAAN,EAASC,KAAK,IAAd,EAAoBkC,OAAO,EAA3B,EAJJ;AAKN1G,mBAAW,EAACuE,KAAK,IAAN,EAAYC,KAAK,IAAjB,EAAuBkC,OAAO,EAACE,MAAM,CAAC,WAAD,EAAc,WAAd,EAA2B,UAA3B,CAAP,EAA9B,EALL;AAMN1G,iBAAS,EAACqE,KAAK,IAAN,EAAYC,KAAK,CAAjB,EAAoBkC,OAAO,EAA3B;AANH;AApBE;AADH;AADE,C;;;;;;;;;QC7BCkC,W,GAAAA,W;QAIAC,O,GAAAA,O;AAJT,SAASD,WAAT,CAAsBE,GAAtB,EAA2B;AAChC,SAAQxE,KAAKI,MAAL,KAAgBoE,IAAIpI,MAArB,GAA+B,CAAtC;AACD;;AAEM,SAASmI,OAAT,CAAkBC,GAAlB,EAAuB;AAC5B,SAAOA,IAAIF,YAAYE,GAAZ,CAAJ,CAAP;AACD;;;;;;;;;QCqBevM,c,GAAAA,c;QAiBAwM,sB,GAAAA,sB;QAcAC,W,GAAAA,W;QAuCA/B,mB,GAAAA,mB;QAcAgC,c,GAAAA,c;QAoBAlL,iB,GAAAA,iB;QAaAI,e,GAAAA,e;QASAF,c,GAAAA,c;QASAI,c,GAAAA,c;QASAE,e,GAAAA,e;QASAE,e,GAAAA,e;QASAE,U,GAAAA,U;AA9LhB,SAASuK,IAAT,CAAeC,KAAf,EAAsBlM,GAAtB,EAA2B;AACzB;;;;;;;;;;;AAWA,OAAK,IAAI2G,IAAI,CAAb,EAAgBA,IAAIuF,MAAMzI,MAA1B,EAAkC,EAAEkD,CAApC,EAAuC;AACrC,UAAM,CAACwF,SAAD,EAAYlF,MAAZ,IAAsBiF,MAAMvF,CAAN,CAA5B;AACA,UAAMyF,SAASzF,MAAOuF,MAAMzI,MAAN,GAAe,CAArC;;AAEA,QAAI2I,MAAJ,EAAY;AACV,UAAID,cAAc,MAAlB,EAA0B;AACxB,eAAOlF,MAAP;AACD;AACF;AACD,QAAIjH,OAAOmM,SAAX,EAAsB;AACpB,aAAOlF,MAAP;AACD;AACF;AACD,QAAM,IAAIZ,KAAJ,CAAU,iBAAV,CAAN;AACD;;AAEM,SAAS/G,cAAT,CAAyB+M,GAAzB,EAA8B;AACnC,SAAQ;AACN;AACA,IAACC,MAAM,cAAP,EAAuBC,QAAQ,GAA/B,EAFM,EAGN,EAACD,MAAM,iBAAP,EAA0BC,QAAQ,IAAlC,EAHM,EAIN,EAACD,MAAM,aAAP,EAAsBC,QAAQ,IAA9B,EAJM,EAKN,EAACD,MAAM,gBAAP,EAAyBC,QAAQ,KAAjC,EALM,EAMN,EAACD,MAAM,cAAP,EAAuBC,QAAQ,KAA/B,EANM,EAON,EAACD,MAAM,aAAP,EAAsBC,QAAQ,KAA9B,EAPM,EAQN,EAACD,MAAM,aAAP,EAAsBC,QAAQ,KAA9B,EARM,EASN,EAACD,MAAM,YAAP,EAAqBC,QAAQ,KAA7B,EATM,EAUN,EAACD,MAAM,SAAP,EAAkBC,QAAQ,MAA1B,EAVM,EAWN,EAACD,MAAM,WAAP,EAAoBC,QAAQ,OAA5B,EAXM,EAYN,EAACD,MAAM,eAAP,EAAwBC,QAAQ,QAAhC,EAZM,CAAD,CAaJF,GAbI,CAAP;AAcD;;AAEM,SAASP,sBAAT,CAAiCU,GAAjC,EAAsC;AAC3C,QAAMN,QAAQ;AACZ;AACA,GAAC,CAAD,EAAS,CAAT,CAFY,EAGZ,CAAC,CAAD,EAAS,CAAT,CAHY,EAIZ,CAAC,EAAD,EAAS,CAAT,CAJY,EAKZ,CAAC,EAAD,EAAS,CAAT,CALY,EAMZ,CAAC,EAAD,EAAS,CAAT,CANY,EAOZ,CAAC,EAAD,EAAS,CAAT,CAPY,EAQZ,CAAC,MAAD,EAAS,EAAT,CARY,CAAd;AAUA,SAAOD,KAAKC,KAAL,EAAYM,GAAZ,CAAP;AACD;;AAEM,SAAST,WAAT,CAAsBnL,EAAtB,EAA0BzB,GAA1B,EAA+B;AACpC,QAAMsN,eAAeR,KAAK,CACxB,CAAC,EAAD,EAAK;AACH7L,SAAK,CADF;AAEHC,SAAK,CAAC,CAFH;AAGHC,SAAK,CAHF;AAIHC,SAAK,CAAC,CAJH;AAKHC,SAAK,CALF;AAMHC,SAAK;AANF,GAAL,CADwB,EASxB,CAAC,EAAD,EAAK;AACHL,SAAK,CAAC,CADH;AAEHC,SAAK,CAAC,CAFH;AAGHC,SAAK,CAAC,CAHH;AAIHC,SAAK,CAJF;AAKHC,SAAK,CALF;AAMHC,SAAK;AANF,GAAL,CATwB,EAiBxB,CAAC,EAAD,EAAK;AACHL,SAAK,CAAC,CADH;AAEHC,SAAK,CAAC,CAFH,EAEM;AACTC,SAAK,CAAC,CAHH;AAIHC,SAAK,CAJF;AAKHC,SAAK,CALF;AAMHC,SAAK;AANF,GAAL,CAjBwB,EAyBxB,CAAC,MAAD,EAAS;AACPL,SAAK,CADE;AAEPC,SAAK,CAFE;AAGPC,SAAK,CAHE;AAIPC,SAAK,CAJE;AAKPC,SAAK,CALE;AAMPC,SAAK;AANE,GAAT;AAQA;AAjCwB,GAAL,EAkClBtB,GAlCkB,CAArB;AAmCA,SAAOsN,aAAa7L,EAAb,CAAP;AACD;;AAEM,SAASoJ,mBAAT,CAA8BtJ,iBAA9B,EAAiDqJ,KAAjD,EAAwD;AAC7D,MAAIvH,QAAQ,CAAZ;AACA,MAAIuH,MAAM2C,GAAV,EAAe;AACb,QAAI3C,MAAM2C,GAAN,CAAUzC,QAAV,CAAmB,GAAnB,CAAJ,EAA6B;AAC3B,YAAM,CAAC0C,GAAD,EAAMC,GAAN,IAAa7C,MAAM2C,GAAN,CAAUlB,KAAV,CAAgB,GAAhB,CAAnB;AACA,YAAM,CAACqB,EAAD,EAAKC,EAAL,IAAW,CAACpM,kBAAkBiM,GAAlB,CAAD,EAAyBjM,kBAAkBkM,GAAlB,CAAzB,CAAjB;AACApK,cAAQ,CAACqK,KAAKC,EAAN,IAAY,CAApB;AACD,KAJD,MAIO;AACLtK,cAAQ9B,kBAAkBqJ,MAAM2C,GAAxB,CAAR;AACD;AACF;AACD,SAAOV,eAAexJ,KAAf,CAAP;AACD;;AAEM,SAASwJ,cAAT,CAAyB5H,CAAzB,EAA4B;AACjC,MAAIA,KAAK,CAAT,EAAY;AACV,WAAO,CAAP;AACD;;AAED,MAAIA,KAAK,CAAT,EAAY;AACV,WAAO,CAAP;AACD;;AAED,MAAIA,KAAK,EAAT,EAAa;AACX,WAAO,CAAP;AACD;;AAED,MAAIA,KAAK,EAAT,EAAa;AACX,WAAO,CAAP;AACD;;AAED,SAAO,CAAP;AACD;;AAEM,SAAStD,iBAAT,CAA4BF,EAA5B,EAAgC;AACrC,QAAM;AACJN,OADI;AAEJD;AAFI,MAGFO,EAHJ;AAIA,QAAMmM,MAAMzM,MAAMD,GAAlB;;AAEA,SAAO;AACLuB,sBAAkB,IAAIyF,KAAK2F,IAAL,CAAUD,MAAM,EAAhB,CADjB;AAELlL,qBAAiB,MAAMwF,KAAKyB,GAAL,CAASiE,GAAT,EAAc,IAAd;AAFlB,GAAP;AAID;;AAEM,SAAS7L,eAAT,CAA0BN,EAA1B,EAA8B;AACnC,QAAM;AACJN,OADI;AAEJE;AAFI,MAGFI,EAHJ;AAIA,QAAMmM,MAAMzM,MAAME,GAAlB;AACA,SAAO,IAAI6G,KAAK2F,IAAL,CAAUD,MAAM,EAAhB,CAAX;AACD;;AAEM,SAAS/L,cAAT,CAAyBJ,EAAzB,EAA6B;AAClC,QAAM;AACJR,OADI;AAEJC;AAFI,MAGFO,EAHJ;AAIA,QAAMmM,MAAM3M,MAAMC,GAAlB;AACA,SAAOgH,KAAK4F,KAAL,CAAYF,GAAD,GAAQ,EAAnB,IAAyB,CAAhC;AACD;;AAEM,SAAS3L,cAAT,CAAyBR,EAAzB,EAA6B;AAClC,QAAM;AACJN,OADI;AAEJC;AAFI,MAGFK,EAHJ;AAIA,QAAMmM,MAAMzM,MAAMC,GAAlB;AACA,SAAO,IAAI8G,KAAK4F,KAAL,CAAWF,MAAM,EAAjB,CAAX;AACD;;AAEM,SAASzL,eAAT,CAA0BV,EAA1B,EAA8B;AACnC,QAAM;AACJJ,OADI;AAEJD;AAFI,MAGFK,EAHJ;AAIA,QAAMmM,MAAMvM,MAAMD,GAAlB;AACA,SAAO,IAAI8G,KAAK4F,KAAL,CAAWF,MAAM,EAAjB,CAAX;AACD;;AAEM,SAASvL,eAAT,CAA0BZ,EAA1B,EAA8B;AACnC,QAAM;AACJN,OADI;AAEJG;AAFI,MAGFG,EAHJ;AAIA,QAAMmM,MAAMtM,MAAMH,GAAlB;AACA,SAAO,IAAI+G,KAAK4F,KAAL,CAAWF,MAAM,EAAjB,CAAX;AACD;;AAEM,SAASrL,UAAT,CAAqBd,EAArB,EAAyB;AAC9B,QAAM;AACJP,OADI;AAEJG;AAFI,MAGFI,EAHJ;;AAKA,QAAMa,kBAAkBpB,MAAMG,GAA9B;;AAEA,SAAO;AACLiB,mBADK;AAELQ,eAAW;AACTiL,YAAU7F,KAAK4F,KAAL,CAAW,CAAC,IAAIxG,KAAL,IAAc,CAAzB,CADD;AAET0G,aAAU,IAAI1G,KAFL;AAGT2G,eAAU,IAAI3G,KAHL;AAIT4G,gBAAU,IAAI5G,KAJL;AAKT6G,eAAU,IAAI7G,KALL;AAMT8G,eAAU,IAAI9G,KANL;AAOT+G,gBAAU,IAAI/G;AAPL;AAFN,GAAP;;AAaA,WAASA,GAAT,GAAgB;AACd,WAAOY,KAAK4F,KAAL,CAAWxL,kBAAkB,EAA7B,CAAP;AACD;AACF;;AAEM,MAAMc,0BAAS;AACpBK,UAAQ,CACN,EAAC1D,MAAM,iBAAP,EAA0BwN,KAAK,KAA/B,EADM,EAEN,EAACxN,MAAM,UAAP,EAAmBwN,KAAK,SAAxB,EAFM,EAGN,EAACxN,MAAM,SAAP,EAAkBwN,KAAK,SAAvB,EAHM,EAIN,EAACxN,MAAM,WAAP,EAAoBwN,KAAK,SAAzB,EAJM,EAKN,EAACxN,MAAM,eAAP,EAAwBwN,KAAK,SAA7B,EALM,EAMN,EAACxN,MAAM,UAAP,EAAmBwN,KAAK,KAAxB,EANM,EAON,EAACxN,MAAM,kBAAP,EAA2BwN,KAAK,KAAhC,EAPM,EAQN,EAACxN,MAAM,iBAAP,EAA0BwN,KAAK,KAA/B,EARM,EASN,EAACxN,MAAM,kBAAP,EAA2BwN,KAAK,SAAhC,EATM,CADY;;AAapB7J,YAAU,CACR,EAAC3D,MAAM,UAAP,EAAmBwN,KAAK,KAAxB,EADQ,EAER,EAACxN,MAAM,QAAP,EAAiBwN,KAAK,KAAtB,EAFQ,EAGR,EAACxN,MAAM,kBAAP,EAA2BwN,KAAK,SAAhC,EAHQ,EAIR,EAACxN,MAAM,kBAAP,EAA2BwN,KAAK,SAAhC,EAJQ,EAKR,EAACxN,MAAM,mBAAP,EAA4BwN,KAAK,SAAjC,EALQ,EAMR,EAACxN,MAAM,mBAAP,EAA4BwN,KAAK,SAAjC,EANQ,CAbU;;AAsBpB5J,iBAAe,CACb,EAAC5D,MAAM,gBAAP,EAAyBwN,KAAK,KAA9B,EADa,EAEb,EAACxN,MAAM,SAAP,EAAkBwN,KAAK,KAAvB,EAFa,EAGb,EAACxN,MAAM,SAAP,EAAkBwN,KAAK,KAAvB,EAHa,EAIb,EAACxN,MAAM,eAAP,EAAwBwN,KAAK,SAA7B,EAJa,EAKb,EAACxN,MAAM,QAAP,EAAiBwN,KAAK,KAAtB,EALa,EAMb,EAACxN,MAAM,SAAP,EAAkBwN,KAAK,KAAvB,EANa,EAOb,EAACxN,MAAM,YAAP,EAAqBwN,KAAK,KAA1B,EAPa,CAtBK;;AAgCpB1J,YAAU,CACR,EAAC9D,MAAM,UAAP,EAAmBwN,KAAK,KAAxB,EADQ,EAER,EAACxN,MAAM,iBAAP,EAA0BwN,KAAK,KAA/B,EAFQ,EAGR,EAACxN,MAAM,SAAP,EAAkBwN,KAAK,KAAvB,EAHQ,EAIR,EAACxN,MAAM,SAAP,EAAkBwN,KAAK,KAAvB,EAJQ,EAKR,EAACxN,MAAM,UAAP,EAAmBwN,KAAK,KAAxB,EALQ,EAMR,EAACxN,MAAM,UAAP,EAAmBwN,KAAK,KAAxB,EANQ,EAOR,EAACxN,MAAM,cAAP,EAAuBwN,KAAK,SAA5B,EAPQ,EAQR,EAACxN,MAAM,aAAP,EAAsBwN,KAAK,KAA3B,EARQ,EASR,EAACxN,MAAM,aAAP,EAAsBwN,KAAK,KAA3B,EATQ,EAUR,EAACxN,MAAM,gBAAP,EAAyBwN,KAAK,KAA9B,EAVQ,EAWR,EAACxN,MAAM,iBAAP,EAA0BwN,KAAK,SAA/B,EAXQ,EAYR,EAACxN,MAAM,iBAAP,EAA0BwN,KAAK,SAA/B,EAZQ,CAhCU;;AA+CpB3J,aAAW,CACT,EAAC7D,MAAM,aAAP,EAAsBwN,KAAK,KAA3B,EADS,EAET,EAACxN,MAAM,WAAP,EAAoBwN,KAAK,KAAzB,EAFS,EAGT,EAACxN,MAAM,SAAP,EAAkBwN,KAAK,KAAvB,EAHS,EAIT,EAACxN,MAAM,WAAP,EAAoBwN,KAAK,KAAzB,EAJS,EAKT,EAACxN,MAAM,WAAP,EAAoBwN,KAAK,KAAzB,EALS,EAMT,EAACxN,MAAM,gBAAP,EAAyBwN,KAAK,KAA9B,EANS,EAOT,EAACxN,MAAM,UAAP,EAAmBwN,KAAK,KAAxB,EAPS,EAQT,EAACxN,MAAM,WAAP,EAAoBwN,KAAK,KAAzB,EARS,EAST,EAACxN,MAAM,UAAP,EAAmBwN,KAAK,KAAxB,EATS,EAUT,EAACxN,MAAM,WAAP,EAAoBwN,KAAK,KAAzB,EAVS,EAWT,EAACxN,MAAM,kBAAP,EAA2BwN,KAAK,KAAhC,EAXS,EAYT,EAACxN,MAAM,aAAP,EAAsBwN,KAAK,KAA3B,EAZS,EAaT,EAACxN,MAAM,UAAP,EAAmBwN,KAAK,KAAxB,EAbS,CA/CS;;AA+DpBzJ,WAAS,CACP,EAAC/D,MAAM,OAAP,EAAgBuO,KAAK,IAArB,EAA2BC,KAAK,IAAhC,EADO,EAEP,EAACxO,MAAM,YAAP,EAAqBuO,KAAK,IAA1B,EAAgCC,KAAK,IAArC,EAFO,EAGP,EAACxO,MAAM,SAAP,EAAkBuO,KAAK,IAAvB,EAA6BC,KAAK,IAAlC,EAHO;AA/DW,CAAf;;;;;;;;;QCjNSC,c,GAAAA,c;;AAPhB;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEO,SAASA,cAAT,CAAyBjG,QAAzB,EAAmC;AACxC,QAAMkG,QAAQlG,SAASmG,aAAT,CAAuB,OAAvB,CAAd;AACA,QAAMC,MAAM,gFAKV5G,MALU,CAKH,CAACD,MAAD,EAASmE,IAAT,KAAmB,GAAEnE,MAAO;EACrC,sBAAOmE,IAAP,CAAa,EAND,EAMI,EANJ,CAAZ;AAOAwC,QAAMG,SAAN,GAAkBD,GAAlB;AACApG,WAASG,IAAT,CAAcmG,WAAd,CAA0BJ,KAA1B;AACD","file":"public/app.js","sourcesContent":["\nrequire.register(\"classnames/index.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"classnames\");\n  (function() {\n    /*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n  })();\n});","\nrequire.register(\"csjs/csjs.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"csjs\");\n  (function() {\n    'use strict';\n\nmodule.exports = require('./lib/csjs');\n  })();\n});","\nrequire.register(\"csjs/get-css.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"csjs\");\n  (function() {\n    'use strict';\n\nmodule.exports = require('./lib/get-css');\n  })();\n});","\nrequire.register(\"csjs/index.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"csjs\");\n  (function() {\n    'use strict';\n\nvar csjs = require('./csjs');\n\nmodule.exports = csjs();\nmodule.exports.csjs = csjs;\nmodule.exports.noScope = csjs({ noscope: true });\nmodule.exports.getCss = require('./get-css');\n  })();\n});","\nrequire.register(\"csjs/lib/base62-encode.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"csjs\");\n  (function() {\n    'use strict';\n\n/**\n * base62 encode implementation based on base62 module:\n * https://github.com/andrew/base62.js\n */\n\nvar CHARS = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n\nmodule.exports = function encode(integer) {\n  if (integer === 0) {\n    return '0';\n  }\n  var str = '';\n  while (integer > 0) {\n    str = CHARS[integer % 62] + str;\n    integer = Math.floor(integer / 62);\n  }\n  return str;\n};\n  })();\n});","\nrequire.register(\"csjs/lib/build-exports.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"csjs\");\n  (function() {\n    'use strict';\n\nvar makeComposition = require('./composition').makeComposition;\n\nmodule.exports = function createExports(classes, keyframes, compositions) {\n  var keyframesObj = Object.keys(keyframes).reduce(function(acc, key) {\n    var val = keyframes[key];\n    acc[val] = makeComposition([key], [val], true);\n    return acc;\n  }, {});\n\n  var exports = Object.keys(classes).reduce(function(acc, key) {\n    var val = classes[key];\n    var composition = compositions[key];\n    var extended = composition ? getClassChain(composition) : [];\n    var allClasses = [key].concat(extended);\n    var unscoped = allClasses.map(function(name) {\n      return classes[name] ? classes[name] : name;\n    });\n    acc[val] = makeComposition(allClasses, unscoped);\n    return acc;\n  }, keyframesObj);\n\n  return exports;\n}\n\nfunction getClassChain(obj) {\n  var visited = {}, acc = [];\n\n  function traverse(obj) {\n    return Object.keys(obj).forEach(function(key) {\n      if (!visited[key]) {\n        visited[key] = true;\n        acc.push(key);\n        traverse(obj[key]);\n      }\n    });\n  }\n\n  traverse(obj);\n  return acc;\n}\n  })();\n});","\nrequire.register(\"csjs/lib/composition.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"csjs\");\n  (function() {\n    'use strict';\n\nmodule.exports = {\n  makeComposition: makeComposition,\n  isComposition: isComposition,\n  ignoreComposition: ignoreComposition\n};\n\n/**\n * Returns an immutable composition object containing the given class names\n * @param  {array} classNames - The input array of class names\n * @return {Composition}      - An immutable object that holds multiple\n *                              representations of the class composition\n */\nfunction makeComposition(classNames, unscoped, isAnimation) {\n  var classString = classNames.join(' ');\n  return Object.create(Composition.prototype, {\n    classNames: { // the original array of class names\n      value: Object.freeze(classNames),\n      configurable: false,\n      writable: false,\n      enumerable: true\n    },\n    unscoped: { // the original array of class names\n      value: Object.freeze(unscoped),\n      configurable: false,\n      writable: false,\n      enumerable: true\n    },\n    className: { // space-separated class string for use in HTML\n      value: classString,\n      configurable: false,\n      writable: false,\n      enumerable: true\n    },\n    selector: { // comma-separated, period-prefixed string for use in CSS\n      value: classNames.map(function(name) {\n        return isAnimation ? name : '.' + name;\n      }).join(', '),\n      configurable: false,\n      writable: false,\n      enumerable: true\n    },\n    toString: { // toString() method, returns class string for use in HTML\n      value: function() {\n        return classString;\n      },\n      configurable: false,\n      writeable: false,\n      enumerable: false\n    }\n  });\n}\n\n/**\n * Returns whether the input value is a Composition\n * @param value      - value to check\n * @return {boolean} - whether value is a Composition or not\n */\nfunction isComposition(value) {\n  return value instanceof Composition;\n}\n\nfunction ignoreComposition(values) {\n  return values.reduce(function(acc, val) {\n    if (isComposition(val)) {\n      val.classNames.forEach(function(name, i) {\n        acc[name] = val.unscoped[i];\n      });\n    }\n    return acc;\n  }, {});\n}\n\n/**\n * Private constructor for use in `instanceof` checks\n */\nfunction Composition() {}\n  })();\n});","\nrequire.register(\"csjs/lib/csjs.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"csjs\");\n  (function() {\n    'use strict';\n\nvar extractExtends = require('./css-extract-extends');\nvar composition = require('./composition');\nvar isComposition = composition.isComposition;\nvar ignoreComposition = composition.ignoreComposition;\nvar buildExports = require('./build-exports');\nvar scopify = require('./scopeify');\nvar cssKey = require('./css-key');\nvar extractExports = require('./extract-exports');\n\nmodule.exports = function csjsTemplate(opts) {\n  opts = (typeof opts === 'undefined') ? {} : opts;\n  var noscope = (typeof opts.noscope === 'undefined') ? false : opts.noscope;\n\n  return function csjsHandler(strings, values) {\n    // Fast path to prevent arguments deopt\n    var values = Array(arguments.length - 1);\n    for (var i = 1; i < arguments.length; i++) {\n      values[i - 1] = arguments[i];\n    }\n    var css = joiner(strings, values.map(selectorize));\n    var ignores = ignoreComposition(values);\n\n    var scope = noscope ? extractExports(css) : scopify(css, ignores);\n    var extracted = extractExtends(scope.css);\n    var localClasses = without(scope.classes, ignores);\n    var localKeyframes = without(scope.keyframes, ignores);\n    var compositions = extracted.compositions;\n\n    var exports = buildExports(localClasses, localKeyframes, compositions);\n\n    return Object.defineProperty(exports, cssKey, {\n      enumerable: false,\n      configurable: false,\n      writeable: false,\n      value: extracted.css\n    });\n  }\n}\n\n/**\n * Replaces class compositions with comma seperated class selectors\n * @param  value - the potential class composition\n * @return       - the original value or the selectorized class composition\n */\nfunction selectorize(value) {\n  return isComposition(value) ? value.selector : value;\n}\n\n/**\n * Joins template string literals and values\n * @param  {array} strings - array of strings\n * @param  {array} values  - array of values\n * @return {string}        - strings and values joined\n */\nfunction joiner(strings, values) {\n  return strings.map(function(str, i) {\n    return (i !== values.length) ? str + values[i] : str;\n  }).join('');\n}\n\n/**\n * Returns first object without keys of second\n * @param  {object} obj      - source object\n * @param  {object} unwanted - object with unwanted keys\n * @return {object}          - first object without unwanted keys\n */\nfunction without(obj, unwanted) {\n  return Object.keys(obj).reduce(function(acc, key) {\n    if (!unwanted[key]) {\n      acc[key] = obj[key];\n    }\n    return acc;\n  }, {});\n}\n  })();\n});","\nrequire.register(\"csjs/lib/css-extract-extends.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"csjs\");\n  (function() {\n    'use strict';\n\nvar makeComposition = require('./composition').makeComposition;\n\nvar regex = /\\.([^\\s]+)(\\s+)(extends\\s+)(\\.[^{]+)/g;\n\nmodule.exports = function extractExtends(css) {\n  var found, matches = [];\n  while (found = regex.exec(css)) {\n    matches.unshift(found);\n  }\n\n  function extractCompositions(acc, match) {\n    var extendee = getClassName(match[1]);\n    var keyword = match[3];\n    var extended = match[4];\n\n    // remove from output css\n    var index = match.index + match[1].length + match[2].length;\n    var len = keyword.length + extended.length;\n    acc.css = acc.css.slice(0, index) + \" \" + acc.css.slice(index + len + 1);\n\n    var extendedClasses = splitter(extended);\n\n    extendedClasses.forEach(function(className) {\n      if (!acc.compositions[extendee]) {\n        acc.compositions[extendee] = {};\n      }\n      if (!acc.compositions[className]) {\n        acc.compositions[className] = {};\n      }\n      acc.compositions[extendee][className] = acc.compositions[className];\n    });\n    return acc;\n  }\n\n  return matches.reduce(extractCompositions, {\n    css: css,\n    compositions: {}\n  });\n\n};\n\nfunction splitter(match) {\n  return match.split(',').map(getClassName);\n}\n\nfunction getClassName(str) {\n  var trimmed = str.trim();\n  return trimmed[0] === '.' ? trimmed.substr(1) : trimmed;\n}\n  })();\n});","\nrequire.register(\"csjs/lib/css-key.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"csjs\");\n  (function() {\n    'use strict';\n\n/**\n * CSS identifiers with whitespace are invalid\n * Hence this key will not cause a collision\n */\n\nmodule.exports = ' css ';\n  })();\n});","\nrequire.register(\"csjs/lib/extract-exports.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"csjs\");\n  (function() {\n    'use strict';\n\nvar regex = require('./regex');\nvar classRegex = regex.classRegex;\nvar keyframesRegex = regex.keyframesRegex;\n\nmodule.exports = extractExports;\n\nfunction extractExports(css) {\n  return {\n    css: css,\n    keyframes: getExport(css, keyframesRegex),\n    classes: getExport(css, classRegex)\n  };\n}\n\nfunction getExport(css, regex) {\n  var prop = {};\n  var match;\n  while((match = regex.exec(css)) !== null) {\n    var name = match[2];\n    prop[name] = name;\n  }\n  return prop;\n}\n  })();\n});","\nrequire.register(\"csjs/lib/get-css.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"csjs\");\n  (function() {\n    'use strict';\n\nvar cssKey = require('./css-key');\n\nmodule.exports = function getCss(csjs) {\n  return csjs[cssKey];\n};\n  })();\n});","\nrequire.register(\"csjs/lib/hash-string.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"csjs\");\n  (function() {\n    'use strict';\n\n/**\n * djb2 string hash implementation based on string-hash module:\n * https://github.com/darkskyapp/string-hash\n */\n\nmodule.exports = function hashStr(str) {\n  var hash = 5381;\n  var i = str.length;\n\n  while (i) {\n    hash = (hash * 33) ^ str.charCodeAt(--i)\n  }\n  return hash >>> 0;\n};\n  })();\n});","\nrequire.register(\"csjs/lib/regex.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"csjs\");\n  (function() {\n    'use strict';\n\nvar findClasses = /(\\.)(?!\\d)([^\\s\\.,{\\[>+~#:)]*)(?![^{]*})/.source;\nvar findKeyframes = /(@\\S*keyframes\\s*)([^{\\s]*)/.source;\nvar ignoreComments = /(?!(?:[^*/]|\\*[^/]|\\/[^*])*\\*+\\/)/.source;\n\nvar classRegex = new RegExp(findClasses + ignoreComments, 'g');\nvar keyframesRegex = new RegExp(findKeyframes + ignoreComments, 'g');\n\nmodule.exports = {\n  classRegex: classRegex,\n  keyframesRegex: keyframesRegex,\n  ignoreComments: ignoreComments,\n};\n  })();\n});","\nrequire.register(\"csjs/lib/replace-animations.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"csjs\");\n  (function() {\n    var ignoreComments = require('./regex').ignoreComments;\n\nmodule.exports = replaceAnimations;\n\nfunction replaceAnimations(result) {\n  var animations = Object.keys(result.keyframes).reduce(function(acc, key) {\n    acc[result.keyframes[key]] = key;\n    return acc;\n  }, {});\n  var unscoped = Object.keys(animations);\n\n  if (unscoped.length) {\n    var regexStr = '((?:animation|animation-name)\\\\s*:[^};]*)('\n      + unscoped.join('|') + ')([;\\\\s])' + ignoreComments;\n    var regex = new RegExp(regexStr, 'g');\n\n    var replaced = result.css.replace(regex, function(match, preamble, name, ending) {\n      return preamble + animations[name] + ending;\n    });\n\n    return {\n      css: replaced,\n      keyframes: result.keyframes,\n      classes: result.classes\n    }\n  }\n\n  return result;\n}\n  })();\n});","\nrequire.register(\"csjs/lib/scoped-name.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"csjs\");\n  (function() {\n    'use strict';\n\nvar encode = require('./base62-encode');\nvar hash = require('./hash-string');\n\nmodule.exports = function fileScoper(fileSrc) {\n  var suffix = encode(hash(fileSrc));\n\n  return function scopedName(name) {\n    return name + '_' + suffix;\n  }\n};\n  })();\n});","\nrequire.register(\"csjs/lib/scopeify.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"csjs\");\n  (function() {\n    'use strict';\n\nvar fileScoper = require('./scoped-name');\nvar replaceAnimations = require('./replace-animations');\nvar regex = require('./regex');\nvar classRegex = regex.classRegex;\nvar keyframesRegex = regex.keyframesRegex;\n\nmodule.exports = scopify;\n\nfunction scopify(css, ignores) {\n  var makeScopedName = fileScoper(css);\n  var replacers = {\n    classes: classRegex,\n    keyframes: keyframesRegex\n  };\n\n  function scopeCss(result, key) {\n    var replacer = replacers[key];\n    function replaceFn(fullMatch, prefix, name) {\n      var scopedName = ignores[name] ? name : makeScopedName(name);\n      result[key][scopedName] = name;\n      return prefix + scopedName;\n    }\n    return {\n      css: result.css.replace(replacer, replaceFn),\n      keyframes: result.keyframes,\n      classes: result.classes\n    };\n  }\n\n  var result = Object.keys(replacers).reduce(scopeCss, {\n    css: css,\n    keyframes: {},\n    classes: {}\n  });\n\n  return replaceAnimations(result);\n}\n  })();\n});","\nrequire.register(\"mithril/mithril.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"mithril\");\n  (function() {\n    ;(function() {\n\"use strict\"\nfunction Vnode(tag, key, attrs0, children, text, dom) {\n\treturn {tag: tag, key: key, attrs: attrs0, children: children, text: text, dom: dom, domSize: undefined, state: undefined, _state: undefined, events: undefined, instance: undefined, skip: false}\n}\nVnode.normalize = function(node) {\n\tif (Array.isArray(node)) return Vnode(\"[\", undefined, undefined, Vnode.normalizeChildren(node), undefined, undefined)\n\tif (node != null && typeof node !== \"object\") return Vnode(\"#\", undefined, undefined, node === false ? \"\" : node, undefined, undefined)\n\treturn node\n}\nVnode.normalizeChildren = function normalizeChildren(children) {\n\tfor (var i = 0; i < children.length; i++) {\n\t\tchildren[i] = Vnode.normalize(children[i])\n\t}\n\treturn children\n}\nvar selectorParser = /(?:(^|#|\\.)([^#\\.\\[\\]]+))|(\\[(.+?)(?:\\s*=\\s*(\"|'|)((?:\\\\[\"'\\]]|.)*?)\\5)?\\])/g\nvar selectorCache = {}\nvar hasOwn = {}.hasOwnProperty\nfunction isEmpty(object) {\n\tfor (var key in object) if (hasOwn.call(object, key)) return false\n\treturn true\n}\nfunction compileSelector(selector) {\n\tvar match, tag = \"div\", classes = [], attrs = {}\n\twhile (match = selectorParser.exec(selector)) {\n\t\tvar type = match[1], value = match[2]\n\t\tif (type === \"\" && value !== \"\") tag = value\n\t\telse if (type === \"#\") attrs.id = value\n\t\telse if (type === \".\") classes.push(value)\n\t\telse if (match[3][0] === \"[\") {\n\t\t\tvar attrValue = match[6]\n\t\t\tif (attrValue) attrValue = attrValue.replace(/\\\\([\"'])/g, \"$1\").replace(/\\\\\\\\/g, \"\\\\\")\n\t\t\tif (match[4] === \"class\") classes.push(attrValue)\n\t\t\telse attrs[match[4]] = attrValue === \"\" ? attrValue : attrValue || true\n\t\t}\n\t}\n\tif (classes.length > 0) attrs.className = classes.join(\" \")\n\treturn selectorCache[selector] = {tag: tag, attrs: attrs}\n}\nfunction execSelector(state, attrs, children) {\n\tvar hasAttrs = false, childList, text\n\tvar className = attrs.className || attrs.class\n\tif (!isEmpty(state.attrs) && !isEmpty(attrs)) {\n\t\tvar newAttrs = {}\n\t\tfor(var key in attrs) {\n\t\t\tif (hasOwn.call(attrs, key)) {\n\t\t\t\tnewAttrs[key] = attrs[key]\n\t\t\t}\n\t\t}\n\t\tattrs = newAttrs\n\t}\n\tfor (var key in state.attrs) {\n\t\tif (hasOwn.call(state.attrs, key)) {\n\t\t\tattrs[key] = state.attrs[key]\n\t\t}\n\t}\n\tif (className !== undefined) {\n\t\tif (attrs.class !== undefined) {\n\t\t\tattrs.class = undefined\n\t\t\tattrs.className = className\n\t\t}\n\t\tif (state.attrs.className != null) {\n\t\t\tattrs.className = state.attrs.className + \" \" + className\n\t\t}\n\t}\n\tfor (var key in attrs) {\n\t\tif (hasOwn.call(attrs, key) && key !== \"key\") {\n\t\t\thasAttrs = true\n\t\t\tbreak\n\t\t}\n\t}\n\tif (Array.isArray(children) && children.length === 1 && children[0] != null && children[0].tag === \"#\") {\n\t\ttext = children[0].children\n\t} else {\n\t\tchildList = children\n\t}\n\treturn Vnode(state.tag, attrs.key, hasAttrs ? attrs : undefined, childList, text)\n}\nfunction hyperscript(selector) {\n\t// Because sloppy mode sucks\n\tvar attrs = arguments[1], start = 2, children\n\tif (selector == null || typeof selector !== \"string\" && typeof selector !== \"function\" && typeof selector.view !== \"function\") {\n\t\tthrow Error(\"The selector must be either a string or a component.\");\n\t}\n\tif (typeof selector === \"string\") {\n\t\tvar cached = selectorCache[selector] || compileSelector(selector)\n\t}\n\tif (attrs == null) {\n\t\tattrs = {}\n\t} else if (typeof attrs !== \"object\" || attrs.tag != null || Array.isArray(attrs)) {\n\t\tattrs = {}\n\t\tstart = 1\n\t}\n\tif (arguments.length === start + 1) {\n\t\tchildren = arguments[start]\n\t\tif (!Array.isArray(children)) children = [children]\n\t} else {\n\t\tchildren = []\n\t\twhile (start < arguments.length) children.push(arguments[start++])\n\t}\n\tvar normalized = Vnode.normalizeChildren(children)\n\tif (typeof selector === \"string\") {\n\t\treturn execSelector(cached, attrs, normalized)\n\t} else {\n\t\treturn Vnode(selector, attrs.key, attrs, normalized)\n\t}\n}\nhyperscript.trust = function(html) {\n\tif (html == null) html = \"\"\n\treturn Vnode(\"<\", undefined, undefined, html, undefined, undefined)\n}\nhyperscript.fragment = function(attrs1, children) {\n\treturn Vnode(\"[\", attrs1.key, attrs1, Vnode.normalizeChildren(children), undefined, undefined)\n}\nvar m = hyperscript\n/** @constructor */\nvar PromisePolyfill = function(executor) {\n\tif (!(this instanceof PromisePolyfill)) throw new Error(\"Promise must be called with `new`\")\n\tif (typeof executor !== \"function\") throw new TypeError(\"executor must be a function\")\n\tvar self = this, resolvers = [], rejectors = [], resolveCurrent = handler(resolvers, true), rejectCurrent = handler(rejectors, false)\n\tvar instance = self._instance = {resolvers: resolvers, rejectors: rejectors}\n\tvar callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction handler(list, shouldAbsorb) {\n\t\treturn function execute(value) {\n\t\t\tvar then\n\t\t\ttry {\n\t\t\t\tif (shouldAbsorb && value != null && (typeof value === \"object\" || typeof value === \"function\") && typeof (then = value.then) === \"function\") {\n\t\t\t\t\tif (value === self) throw new TypeError(\"Promise can't be resolved w/ itself\")\n\t\t\t\t\texecuteOnce(then.bind(value))\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcallAsync(function() {\n\t\t\t\t\t\tif (!shouldAbsorb && list.length === 0) console.error(\"Possible unhandled promise rejection:\", value)\n\t\t\t\t\t\tfor (var i = 0; i < list.length; i++) list[i](value)\n\t\t\t\t\t\tresolvers.length = 0, rejectors.length = 0\n\t\t\t\t\t\tinstance.state = shouldAbsorb\n\t\t\t\t\t\tinstance.retry = function() {execute(value)}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\trejectCurrent(e)\n\t\t\t}\n\t\t}\n\t}\n\tfunction executeOnce(then) {\n\t\tvar runs = 0\n\t\tfunction run(fn) {\n\t\t\treturn function(value) {\n\t\t\t\tif (runs++ > 0) return\n\t\t\t\tfn(value)\n\t\t\t}\n\t\t}\n\t\tvar onerror = run(rejectCurrent)\n\t\ttry {then(run(resolveCurrent), onerror)} catch (e) {onerror(e)}\n\t}\n\texecuteOnce(executor)\n}\nPromisePolyfill.prototype.then = function(onFulfilled, onRejection) {\n\tvar self = this, instance = self._instance\n\tfunction handle(callback, list, next, state) {\n\t\tlist.push(function(value) {\n\t\t\tif (typeof callback !== \"function\") next(value)\n\t\t\telse try {resolveNext(callback(value))} catch (e) {if (rejectNext) rejectNext(e)}\n\t\t})\n\t\tif (typeof instance.retry === \"function\" && state === instance.state) instance.retry()\n\t}\n\tvar resolveNext, rejectNext\n\tvar promise = new PromisePolyfill(function(resolve, reject) {resolveNext = resolve, rejectNext = reject})\n\thandle(onFulfilled, instance.resolvers, resolveNext, true), handle(onRejection, instance.rejectors, rejectNext, false)\n\treturn promise\n}\nPromisePolyfill.prototype.catch = function(onRejection) {\n\treturn this.then(null, onRejection)\n}\nPromisePolyfill.resolve = function(value) {\n\tif (value instanceof PromisePolyfill) return value\n\treturn new PromisePolyfill(function(resolve) {resolve(value)})\n}\nPromisePolyfill.reject = function(value) {\n\treturn new PromisePolyfill(function(resolve, reject) {reject(value)})\n}\nPromisePolyfill.all = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tvar total = list.length, count = 0, values = []\n\t\tif (list.length === 0) resolve([])\n\t\telse for (var i = 0; i < list.length; i++) {\n\t\t\t(function(i) {\n\t\t\t\tfunction consume(value) {\n\t\t\t\t\tcount++\n\t\t\t\t\tvalues[i] = value\n\t\t\t\t\tif (count === total) resolve(values)\n\t\t\t\t}\n\t\t\t\tif (list[i] != null && (typeof list[i] === \"object\" || typeof list[i] === \"function\") && typeof list[i].then === \"function\") {\n\t\t\t\t\tlist[i].then(consume, reject)\n\t\t\t\t}\n\t\t\t\telse consume(list[i])\n\t\t\t})(i)\n\t\t}\n\t})\n}\nPromisePolyfill.race = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\tlist[i].then(resolve, reject)\n\t\t}\n\t})\n}\nif (typeof window !== \"undefined\") {\n\tif (typeof window.Promise === \"undefined\") window.Promise = PromisePolyfill\n\tvar PromisePolyfill = window.Promise\n} else if (typeof global !== \"undefined\") {\n\tif (typeof global.Promise === \"undefined\") global.Promise = PromisePolyfill\n\tvar PromisePolyfill = global.Promise\n} else {\n}\nvar buildQueryString = function(object) {\n\tif (Object.prototype.toString.call(object) !== \"[object Object]\") return \"\"\n\tvar args = []\n\tfor (var key0 in object) {\n\t\tdestructure(key0, object[key0])\n\t}\n\treturn args.join(\"&\")\n\tfunction destructure(key0, value) {\n\t\tif (Array.isArray(value)) {\n\t\t\tfor (var i = 0; i < value.length; i++) {\n\t\t\t\tdestructure(key0 + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse if (Object.prototype.toString.call(value) === \"[object Object]\") {\n\t\t\tfor (var i in value) {\n\t\t\t\tdestructure(key0 + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse args.push(encodeURIComponent(key0) + (value != null && value !== \"\" ? \"=\" + encodeURIComponent(value) : \"\"))\n\t}\n}\nvar FILE_PROTOCOL_REGEX = new RegExp(\"^file://\", \"i\")\nvar _8 = function($window, Promise) {\n\tvar callbackCount = 0\n\tvar oncompletion\n\tfunction setCompletionCallback(callback) {oncompletion = callback}\n\tfunction finalizer() {\n\t\tvar count = 0\n\t\tfunction complete() {if (--count === 0 && typeof oncompletion === \"function\") oncompletion()}\n\t\treturn function finalize(promise0) {\n\t\t\tvar then0 = promise0.then\n\t\t\tpromise0.then = function() {\n\t\t\t\tcount++\n\t\t\t\tvar next = then0.apply(promise0, arguments)\n\t\t\t\tnext.then(complete, function(e) {\n\t\t\t\t\tcomplete()\n\t\t\t\t\tif (count === 0) throw e\n\t\t\t\t})\n\t\t\t\treturn finalize(next)\n\t\t\t}\n\t\t\treturn promise0\n\t\t}\n\t}\n\tfunction normalize(args, extra) {\n\t\tif (typeof args === \"string\") {\n\t\t\tvar url = args\n\t\t\targs = extra || {}\n\t\t\tif (args.url == null) args.url = url\n\t\t}\n\t\treturn args\n\t}\n\tfunction request(args, extra) {\n\t\tvar finalize = finalizer()\n\t\targs = normalize(args, extra)\n\t\tvar promise0 = new Promise(function(resolve, reject) {\n\t\t\tif (args.method == null) args.method = \"GET\"\n\t\t\targs.method = args.method.toUpperCase()\n\t\t\tvar useBody = (args.method === \"GET\" || args.method === \"TRACE\") ? false : (typeof args.useBody === \"boolean\" ? args.useBody : true)\n\t\t\tif (typeof args.serialize !== \"function\") args.serialize = typeof FormData !== \"undefined\" && args.data instanceof FormData ? function(value) {return value} : JSON.stringify\n\t\t\tif (typeof args.deserialize !== \"function\") args.deserialize = deserialize\n\t\t\tif (typeof args.extract !== \"function\") args.extract = extract\n\t\t\targs.url = interpolate(args.url, args.data)\n\t\t\tif (useBody) args.data = args.serialize(args.data)\n\t\t\telse args.url = assemble(args.url, args.data)\n\t\t\tvar xhr = new $window.XMLHttpRequest(),\n\t\t\t\taborted = false,\n\t\t\t\t_abort = xhr.abort\n\t\t\txhr.abort = function abort() {\n\t\t\t\taborted = true\n\t\t\t\t_abort.call(xhr)\n\t\t\t}\n\t\t\txhr.open(args.method, args.url, typeof args.async === \"boolean\" ? args.async : true, typeof args.user === \"string\" ? args.user : undefined, typeof args.password === \"string\" ? args.password : undefined)\n\t\t\tif (args.serialize === JSON.stringify && useBody && !(args.headers && args.headers.hasOwnProperty(\"Content-Type\"))) {\n\t\t\t\txhr.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\")\n\t\t\t}\n\t\t\tif (args.deserialize === deserialize && !(args.headers && args.headers.hasOwnProperty(\"Accept\"))) {\n\t\t\t\txhr.setRequestHeader(\"Accept\", \"application/json, text/*\")\n\t\t\t}\n\t\t\tif (args.withCredentials) xhr.withCredentials = args.withCredentials\n\t\t\tfor (var key in args.headers) if ({}.hasOwnProperty.call(args.headers, key)) {\n\t\t\t\txhr.setRequestHeader(key, args.headers[key])\n\t\t\t}\n\t\t\tif (typeof args.config === \"function\") xhr = args.config(xhr, args) || xhr\n\t\t\txhr.onreadystatechange = function() {\n\t\t\t\t// Don't throw errors on xhr.abort().\n\t\t\t\tif(aborted) return\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar response = (args.extract !== extract) ? args.extract(xhr, args) : args.deserialize(args.extract(xhr, args))\n\t\t\t\t\t\tif ((xhr.status >= 200 && xhr.status < 300) || xhr.status === 304 || FILE_PROTOCOL_REGEX.test(args.url)) {\n\t\t\t\t\t\t\tresolve(cast(args.type, response))\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar error = new Error(xhr.responseText)\n\t\t\t\t\t\t\tfor (var key in response) error[key] = response[key]\n\t\t\t\t\t\t\treject(error)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\treject(e)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (useBody && (args.data != null)) xhr.send(args.data)\n\t\t\telse xhr.send()\n\t\t})\n\t\treturn args.background === true ? promise0 : finalize(promise0)\n\t}\n\tfunction jsonp(args, extra) {\n\t\tvar finalize = finalizer()\n\t\targs = normalize(args, extra)\n\t\tvar promise0 = new Promise(function(resolve, reject) {\n\t\t\tvar callbackName = args.callbackName || \"_mithril_\" + Math.round(Math.random() * 1e16) + \"_\" + callbackCount++\n\t\t\tvar script = $window.document.createElement(\"script\")\n\t\t\t$window[callbackName] = function(data) {\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\tresolve(cast(args.type, data))\n\t\t\t\tdelete $window[callbackName]\n\t\t\t}\n\t\t\tscript.onerror = function() {\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\treject(new Error(\"JSONP request failed\"))\n\t\t\t\tdelete $window[callbackName]\n\t\t\t}\n\t\t\tif (args.data == null) args.data = {}\n\t\t\targs.url = interpolate(args.url, args.data)\n\t\t\targs.data[args.callbackKey || \"callback\"] = callbackName\n\t\t\tscript.src = assemble(args.url, args.data)\n\t\t\t$window.document.documentElement.appendChild(script)\n\t\t})\n\t\treturn args.background === true? promise0 : finalize(promise0)\n\t}\n\tfunction interpolate(url, data) {\n\t\tif (data == null) return url\n\t\tvar tokens = url.match(/:[^\\/]+/gi) || []\n\t\tfor (var i = 0; i < tokens.length; i++) {\n\t\t\tvar key = tokens[i].slice(1)\n\t\t\tif (data[key] != null) {\n\t\t\t\turl = url.replace(tokens[i], data[key])\n\t\t\t}\n\t\t}\n\t\treturn url\n\t}\n\tfunction assemble(url, data) {\n\t\tvar querystring = buildQueryString(data)\n\t\tif (querystring !== \"\") {\n\t\t\tvar prefix = url.indexOf(\"?\") < 0 ? \"?\" : \"&\"\n\t\t\turl += prefix + querystring\n\t\t}\n\t\treturn url\n\t}\n\tfunction deserialize(data) {\n\t\ttry {return data !== \"\" ? JSON.parse(data) : null}\n\t\tcatch (e) {throw new Error(data)}\n\t}\n\tfunction extract(xhr) {return xhr.responseText}\n\tfunction cast(type0, data) {\n\t\tif (typeof type0 === \"function\") {\n\t\t\tif (Array.isArray(data)) {\n\t\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\t\tdata[i] = new type0(data[i])\n\t\t\t\t}\n\t\t\t}\n\t\t\telse return new type0(data)\n\t\t}\n\t\treturn data\n\t}\n\treturn {request: request, jsonp: jsonp, setCompletionCallback: setCompletionCallback}\n}\nvar requestService = _8(window, PromisePolyfill)\nvar coreRenderer = function($window) {\n\tvar $doc = $window.document\n\tvar $emptyFragment = $doc.createDocumentFragment()\n\tvar nameSpace = {\n\t\tsvg: \"http://www.w3.org/2000/svg\",\n\t\tmath: \"http://www.w3.org/1998/Math/MathML\"\n\t}\n\tvar onevent\n\tfunction setEventCallback(callback) {return onevent = callback}\n\tfunction getNameSpace(vnode) {\n\t\treturn vnode.attrs && vnode.attrs.xmlns || nameSpace[vnode.tag]\n\t}\n\t//create\n\tfunction createNodes(parent, vnodes, start, end, hooks, nextSibling, ns) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t}\n\tfunction createNode(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tif (typeof tag === \"string\") {\n\t\t\tvnode.state = {}\n\t\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\t\tswitch (tag) {\n\t\t\t\tcase \"#\": return createText(parent, vnode, nextSibling)\n\t\t\t\tcase \"<\": return createHTML(parent, vnode, nextSibling)\n\t\t\t\tcase \"[\": return createFragment(parent, vnode, hooks, ns, nextSibling)\n\t\t\t\tdefault: return createElement(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t\telse return createComponent(parent, vnode, hooks, ns, nextSibling)\n\t}\n\tfunction createText(parent, vnode, nextSibling) {\n\t\tvnode.dom = $doc.createTextNode(vnode.children)\n\t\tinsertNode(parent, vnode.dom, nextSibling)\n\t\treturn vnode.dom\n\t}\n\tfunction createHTML(parent, vnode, nextSibling) {\n\t\tvar match1 = vnode.children.match(/^\\s*?<(\\w+)/im) || []\n\t\tvar parent1 = {caption: \"table\", thead: \"table\", tbody: \"table\", tfoot: \"table\", tr: \"tbody\", th: \"tr\", td: \"tr\", colgroup: \"table\", col: \"colgroup\"}[match1[1]] || \"div\"\n\t\tvar temp = $doc.createElement(parent1)\n\t\ttemp.innerHTML = vnode.children\n\t\tvnode.dom = temp.firstChild\n\t\tvnode.domSize = temp.childNodes.length\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tvar child\n\t\twhile (child = temp.firstChild) {\n\t\t\tfragment.appendChild(child)\n\t\t}\n\t\tinsertNode(parent, fragment, nextSibling)\n\t\treturn fragment\n\t}\n\tfunction createFragment(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tif (vnode.children != null) {\n\t\t\tvar children = vnode.children\n\t\t\tcreateNodes(fragment, children, 0, children.length, hooks, null, ns)\n\t\t}\n\t\tvnode.dom = fragment.firstChild\n\t\tvnode.domSize = fragment.childNodes.length\n\t\tinsertNode(parent, fragment, nextSibling)\n\t\treturn fragment\n\t}\n\tfunction createElement(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tvar attrs2 = vnode.attrs\n\t\tvar is = attrs2 && attrs2.is\n\t\tns = getNameSpace(vnode) || ns\n\t\tvar element = ns ?\n\t\t\tis ? $doc.createElementNS(ns, tag, {is: is}) : $doc.createElementNS(ns, tag) :\n\t\t\tis ? $doc.createElement(tag, {is: is}) : $doc.createElement(tag)\n\t\tvnode.dom = element\n\t\tif (attrs2 != null) {\n\t\t\tsetAttrs(vnode, attrs2, ns)\n\t\t}\n\t\tinsertNode(parent, element, nextSibling)\n\t\tif (vnode.attrs != null && vnode.attrs.contenteditable != null) {\n\t\t\tsetContentEditable(vnode)\n\t\t}\n\t\telse {\n\t\t\tif (vnode.text != null) {\n\t\t\t\tif (vnode.text !== \"\") element.textContent = vnode.text\n\t\t\t\telse vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)]\n\t\t\t}\n\t\t\tif (vnode.children != null) {\n\t\t\t\tvar children = vnode.children\n\t\t\t\tcreateNodes(element, children, 0, children.length, hooks, null, ns)\n\t\t\t\tsetLateAttrs(vnode)\n\t\t\t}\n\t\t}\n\t\treturn element\n\t}\n\tfunction initComponent(vnode, hooks) {\n\t\tvar sentinel\n\t\tif (typeof vnode.tag.view === \"function\") {\n\t\t\tvnode.state = Object.create(vnode.tag)\n\t\t\tsentinel = vnode.state.view\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return $emptyFragment\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t} else {\n\t\t\tvnode.state = void 0\n\t\t\tsentinel = vnode.tag\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return $emptyFragment\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t\tvnode.state = (vnode.tag.prototype != null && typeof vnode.tag.prototype.view === \"function\") ? new vnode.tag(vnode) : vnode.tag(vnode)\n\t\t}\n\t\tvnode._state = vnode.state\n\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\tinitLifecycle(vnode._state, vnode, hooks)\n\t\tvnode.instance = Vnode.normalize(vnode._state.view.call(vnode.state, vnode))\n\t\tif (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tsentinel.$$reentrantLock$$ = null\n\t}\n\tfunction createComponent(parent, vnode, hooks, ns, nextSibling) {\n\t\tinitComponent(vnode, hooks)\n\t\tif (vnode.instance != null) {\n\t\t\tvar element = createNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.dom != null ? vnode.instance.domSize : 0\n\t\t\tinsertNode(parent, element, nextSibling)\n\t\t\treturn element\n\t\t}\n\t\telse {\n\t\t\tvnode.domSize = 0\n\t\t\treturn $emptyFragment\n\t\t}\n\t}\n\t//update\n\tfunction updateNodes(parent, old, vnodes, recycling, hooks, nextSibling, ns) {\n\t\tif (old === vnodes || old == null && vnodes == null) return\n\t\telse if (old == null) createNodes(parent, vnodes, 0, vnodes.length, hooks, nextSibling, ns)\n\t\telse if (vnodes == null) removeNodes(old, 0, old.length, vnodes)\n\t\telse {\n\t\t\tif (old.length === vnodes.length) {\n\t\t\t\tvar isUnkeyed = false\n\t\t\t\tfor (var i = 0; i < vnodes.length; i++) {\n\t\t\t\t\tif (vnodes[i] != null && old[i] != null) {\n\t\t\t\t\t\tisUnkeyed = vnodes[i].key == null && old[i].key == null\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isUnkeyed) {\n\t\t\t\t\tfor (var i = 0; i < old.length; i++) {\n\t\t\t\t\t\tif (old[i] === vnodes[i]) continue\n\t\t\t\t\t\telse if (old[i] == null && vnodes[i] != null) createNode(parent, vnodes[i], hooks, ns, getNextSibling(old, i + 1, nextSibling))\n\t\t\t\t\t\telse if (vnodes[i] == null) removeNodes(old, i, i + 1, vnodes)\n\t\t\t\t\t\telse updateNode(parent, old[i], vnodes[i], hooks, getNextSibling(old, i + 1, nextSibling), recycling, ns)\n\t\t\t\t\t}\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\t\t\trecycling = recycling || isRecyclable(old, vnodes)\n\t\t\tif (recycling) {\n\t\t\t\tvar pool = old.pool\n\t\t\t\told = old.concat(old.pool)\n\t\t\t}\n\t\t\tvar oldStart = 0, start = 0, oldEnd = old.length - 1, end = vnodes.length - 1, map\n\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\tvar o = old[oldStart], v = vnodes[start]\n\t\t\t\tif (o === v && !recycling) oldStart++, start++\n\t\t\t\telse if (o == null) oldStart++\n\t\t\t\telse if (v == null) start++\n\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\tvar shouldRecycle = (pool != null && oldStart >= old.length - pool.length) || ((pool == null) && recycling)\n\t\t\t\t\toldStart++, start++\n\t\t\t\t\tupdateNode(parent, o, v, hooks, getNextSibling(old, oldStart, nextSibling), shouldRecycle, ns)\n\t\t\t\t\tif (recycling && o.tag === v.tag) insertNode(parent, toFragment(o), nextSibling)\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvar o = old[oldEnd]\n\t\t\t\t\tif (o === v && !recycling) oldEnd--, start++\n\t\t\t\t\telse if (o == null) oldEnd--\n\t\t\t\t\telse if (v == null) start++\n\t\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\t\tvar shouldRecycle = (pool != null && oldEnd >= old.length - pool.length) || ((pool == null) && recycling)\n\t\t\t\t\t\tupdateNode(parent, o, v, hooks, getNextSibling(old, oldEnd + 1, nextSibling), shouldRecycle, ns)\n\t\t\t\t\t\tif (recycling || start < end) insertNode(parent, toFragment(o), getNextSibling(old, oldStart, nextSibling))\n\t\t\t\t\t\toldEnd--, start++\n\t\t\t\t\t}\n\t\t\t\t\telse break\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\tvar o = old[oldEnd], v = vnodes[end]\n\t\t\t\tif (o === v && !recycling) oldEnd--, end--\n\t\t\t\telse if (o == null) oldEnd--\n\t\t\t\telse if (v == null) end--\n\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\tvar shouldRecycle = (pool != null && oldEnd >= old.length - pool.length) || ((pool == null) && recycling)\n\t\t\t\t\tupdateNode(parent, o, v, hooks, getNextSibling(old, oldEnd + 1, nextSibling), shouldRecycle, ns)\n\t\t\t\t\tif (recycling && o.tag === v.tag) insertNode(parent, toFragment(o), nextSibling)\n\t\t\t\t\tif (o.dom != null) nextSibling = o.dom\n\t\t\t\t\toldEnd--, end--\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (!map) map = getKeyMap(old, oldEnd)\n\t\t\t\t\tif (v != null) {\n\t\t\t\t\t\tvar oldIndex = map[v.key]\n\t\t\t\t\t\tif (oldIndex != null) {\n\t\t\t\t\t\t\tvar movable = old[oldIndex]\n\t\t\t\t\t\t\tvar shouldRecycle = (pool != null && oldIndex >= old.length - pool.length) || ((pool == null) && recycling)\n\t\t\t\t\t\t\tupdateNode(parent, movable, v, hooks, getNextSibling(old, oldEnd + 1, nextSibling), recycling, ns)\n\t\t\t\t\t\t\tinsertNode(parent, toFragment(movable), nextSibling)\n\t\t\t\t\t\t\told[oldIndex].skip = true\n\t\t\t\t\t\t\tif (movable.dom != null) nextSibling = movable.dom\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar dom = createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\tnextSibling = dom\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tend--\n\t\t\t\t}\n\t\t\t\tif (end < start) break\n\t\t\t}\n\t\t\tcreateNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\tremoveNodes(old, oldStart, oldEnd + 1, vnodes)\n\t\t}\n\t}\n\tfunction updateNode(parent, old, vnode, hooks, nextSibling, recycling, ns) {\n\t\tvar oldTag = old.tag, tag = vnode.tag\n\t\tif (oldTag === tag) {\n\t\t\tvnode.state = old.state\n\t\t\tvnode._state = old._state\n\t\t\tvnode.events = old.events\n\t\t\tif (!recycling && shouldNotUpdate(vnode, old)) return\n\t\t\tif (typeof oldTag === \"string\") {\n\t\t\t\tif (vnode.attrs != null) {\n\t\t\t\t\tif (recycling) {\n\t\t\t\t\t\tvnode.state = {}\n\t\t\t\t\t\tinitLifecycle(vnode.attrs, vnode, hooks)\n\t\t\t\t\t}\n\t\t\t\t\telse updateLifecycle(vnode.attrs, vnode, hooks)\n\t\t\t\t}\n\t\t\t\tswitch (oldTag) {\n\t\t\t\t\tcase \"#\": updateText(old, vnode); break\n\t\t\t\t\tcase \"<\": updateHTML(parent, old, vnode, nextSibling); break\n\t\t\t\t\tcase \"[\": updateFragment(parent, old, vnode, recycling, hooks, nextSibling, ns); break\n\t\t\t\t\tdefault: updateElement(old, vnode, recycling, hooks, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t\telse updateComponent(parent, old, vnode, hooks, nextSibling, recycling, ns)\n\t\t}\n\t\telse {\n\t\t\tremoveNode(old, null)\n\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t}\n\t}\n\tfunction updateText(old, vnode) {\n\t\tif (old.children.toString() !== vnode.children.toString()) {\n\t\t\told.dom.nodeValue = vnode.children\n\t\t}\n\t\tvnode.dom = old.dom\n\t}\n\tfunction updateHTML(parent, old, vnode, nextSibling) {\n\t\tif (old.children !== vnode.children) {\n\t\t\ttoFragment(old)\n\t\t\tcreateHTML(parent, vnode, nextSibling)\n\t\t}\n\t\telse vnode.dom = old.dom, vnode.domSize = old.domSize\n\t}\n\tfunction updateFragment(parent, old, vnode, recycling, hooks, nextSibling, ns) {\n\t\tupdateNodes(parent, old.children, vnode.children, recycling, hooks, nextSibling, ns)\n\t\tvar domSize = 0, children = vnode.children\n\t\tvnode.dom = null\n\t\tif (children != null) {\n\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\tvar child = children[i]\n\t\t\t\tif (child != null && child.dom != null) {\n\t\t\t\t\tif (vnode.dom == null) vnode.dom = child.dom\n\t\t\t\t\tdomSize += child.domSize || 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (domSize !== 1) vnode.domSize = domSize\n\t\t}\n\t}\n\tfunction updateElement(old, vnode, recycling, hooks, ns) {\n\t\tvar element = vnode.dom = old.dom\n\t\tns = getNameSpace(vnode) || ns\n\t\tif (vnode.tag === \"textarea\") {\n\t\t\tif (vnode.attrs == null) vnode.attrs = {}\n\t\t\tif (vnode.text != null) {\n\t\t\t\tvnode.attrs.value = vnode.text //FIXME handle0 multiple children\n\t\t\t\tvnode.text = undefined\n\t\t\t}\n\t\t}\n\t\tupdateAttrs(vnode, old.attrs, vnode.attrs, ns)\n\t\tif (vnode.attrs != null && vnode.attrs.contenteditable != null) {\n\t\t\tsetContentEditable(vnode)\n\t\t}\n\t\telse if (old.text != null && vnode.text != null && vnode.text !== \"\") {\n\t\t\tif (old.text.toString() !== vnode.text.toString()) old.dom.firstChild.nodeValue = vnode.text\n\t\t}\n\t\telse {\n\t\t\tif (old.text != null) old.children = [Vnode(\"#\", undefined, undefined, old.text, undefined, old.dom.firstChild)]\n\t\t\tif (vnode.text != null) vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)]\n\t\t\tupdateNodes(element, old.children, vnode.children, recycling, hooks, null, ns)\n\t\t}\n\t}\n\tfunction updateComponent(parent, old, vnode, hooks, nextSibling, recycling, ns) {\n\t\tif (recycling) {\n\t\t\tinitComponent(vnode, hooks)\n\t\t} else {\n\t\t\tvnode.instance = Vnode.normalize(vnode._state.view.call(vnode.state, vnode))\n\t\t\tif (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\t\tif (vnode.attrs != null) updateLifecycle(vnode.attrs, vnode, hooks)\n\t\t\tupdateLifecycle(vnode._state, vnode, hooks)\n\t\t}\n\t\tif (vnode.instance != null) {\n\t\t\tif (old.instance == null) createNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\telse updateNode(parent, old.instance, vnode.instance, hooks, nextSibling, recycling, ns)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.instance.domSize\n\t\t}\n\t\telse if (old.instance != null) {\n\t\t\tremoveNode(old.instance, null)\n\t\t\tvnode.dom = undefined\n\t\t\tvnode.domSize = 0\n\t\t}\n\t\telse {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t}\n\t}\n\tfunction isRecyclable(old, vnodes) {\n\t\tif (old.pool != null && Math.abs(old.pool.length - vnodes.length) <= Math.abs(old.length - vnodes.length)) {\n\t\t\tvar oldChildrenLength = old[0] && old[0].children && old[0].children.length || 0\n\t\t\tvar poolChildrenLength = old.pool[0] && old.pool[0].children && old.pool[0].children.length || 0\n\t\t\tvar vnodesChildrenLength = vnodes[0] && vnodes[0].children && vnodes[0].children.length || 0\n\t\t\tif (Math.abs(poolChildrenLength - vnodesChildrenLength) <= Math.abs(oldChildrenLength - vnodesChildrenLength)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t\treturn false\n\t}\n\tfunction getKeyMap(vnodes, end) {\n\t\tvar map = {}, i = 0\n\t\tfor (var i = 0; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tvar key2 = vnode.key\n\t\t\t\tif (key2 != null) map[key2] = i\n\t\t\t}\n\t\t}\n\t\treturn map\n\t}\n\tfunction toFragment(vnode) {\n\t\tvar count0 = vnode.domSize\n\t\tif (count0 != null || vnode.dom == null) {\n\t\t\tvar fragment = $doc.createDocumentFragment()\n\t\t\tif (count0 > 0) {\n\t\t\t\tvar dom = vnode.dom\n\t\t\t\twhile (--count0) fragment.appendChild(dom.nextSibling)\n\t\t\t\tfragment.insertBefore(dom, fragment.firstChild)\n\t\t\t}\n\t\t\treturn fragment\n\t\t}\n\t\telse return vnode.dom\n\t}\n\tfunction getNextSibling(vnodes, i, nextSibling) {\n\t\tfor (; i < vnodes.length; i++) {\n\t\t\tif (vnodes[i] != null && vnodes[i].dom != null) return vnodes[i].dom\n\t\t}\n\t\treturn nextSibling\n\t}\n\tfunction insertNode(parent, dom, nextSibling) {\n\t\tif (nextSibling && nextSibling.parentNode) parent.insertBefore(dom, nextSibling)\n\t\telse parent.appendChild(dom)\n\t}\n\tfunction setContentEditable(vnode) {\n\t\tvar children = vnode.children\n\t\tif (children != null && children.length === 1 && children[0].tag === \"<\") {\n\t\t\tvar content = children[0].children\n\t\t\tif (vnode.dom.innerHTML !== content) vnode.dom.innerHTML = content\n\t\t}\n\t\telse if (vnode.text != null || children != null && children.length !== 0) throw new Error(\"Child node of a contenteditable must be trusted\")\n\t}\n\t//remove\n\tfunction removeNodes(vnodes, start, end, context) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tif (vnode.skip) vnode.skip = false\n\t\t\t\telse removeNode(vnode, context)\n\t\t\t}\n\t\t}\n\t}\n\tfunction removeNode(vnode, context) {\n\t\tvar expected = 1, called = 0\n\t\tif (vnode.attrs && typeof vnode.attrs.onbeforeremove === \"function\") {\n\t\t\tvar result = vnode.attrs.onbeforeremove.call(vnode.state, vnode)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\texpected++\n\t\t\t\tresult.then(continuation, continuation)\n\t\t\t}\n\t\t}\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode._state.onbeforeremove === \"function\") {\n\t\t\tvar result = vnode._state.onbeforeremove.call(vnode.state, vnode)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\texpected++\n\t\t\t\tresult.then(continuation, continuation)\n\t\t\t}\n\t\t}\n\t\tcontinuation()\n\t\tfunction continuation() {\n\t\t\tif (++called === expected) {\n\t\t\t\tonremove(vnode)\n\t\t\t\tif (vnode.dom) {\n\t\t\t\t\tvar count0 = vnode.domSize || 1\n\t\t\t\t\tif (count0 > 1) {\n\t\t\t\t\t\tvar dom = vnode.dom\n\t\t\t\t\t\twhile (--count0) {\n\t\t\t\t\t\t\tremoveNodeFromDOM(dom.nextSibling)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tremoveNodeFromDOM(vnode.dom)\n\t\t\t\t\tif (context != null && vnode.domSize == null && !hasIntegrationMethods(vnode.attrs) && typeof vnode.tag === \"string\") { //TODO test custom elements\n\t\t\t\t\t\tif (!context.pool) context.pool = [vnode]\n\t\t\t\t\t\telse context.pool.push(vnode)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction removeNodeFromDOM(node) {\n\t\tvar parent = node.parentNode\n\t\tif (parent != null) parent.removeChild(node)\n\t}\n\tfunction onremove(vnode) {\n\t\tif (vnode.attrs && typeof vnode.attrs.onremove === \"function\") vnode.attrs.onremove.call(vnode.state, vnode)\n\t\tif (typeof vnode.tag !== \"string\") {\n\t\t\tif (typeof vnode._state.onremove === \"function\") vnode._state.onremove.call(vnode.state, vnode)\n\t\t\tif (vnode.instance != null) onremove(vnode.instance)\n\t\t} else {\n\t\t\tvar children = vnode.children\n\t\t\tif (Array.isArray(children)) {\n\t\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t\tvar child = children[i]\n\t\t\t\t\tif (child != null) onremove(child)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//attrs2\n\tfunction setAttrs(vnode, attrs2, ns) {\n\t\tfor (var key2 in attrs2) {\n\t\t\tsetAttr(vnode, key2, null, attrs2[key2], ns)\n\t\t}\n\t}\n\tfunction setAttr(vnode, key2, old, value, ns) {\n\t\tvar element = vnode.dom\n\t\tif (key2 === \"key\" || key2 === \"is\" || (old === value && !isFormAttribute(vnode, key2)) && typeof value !== \"object\" || typeof value === \"undefined\" || isLifecycleMethod(key2)) return\n\t\tvar nsLastIndex = key2.indexOf(\":\")\n\t\tif (nsLastIndex > -1 && key2.substr(0, nsLastIndex) === \"xlink\") {\n\t\t\telement.setAttributeNS(\"http://www.w3.org/1999/xlink\", key2.slice(nsLastIndex + 1), value)\n\t\t}\n\t\telse if (key2[0] === \"o\" && key2[1] === \"n\" && typeof value === \"function\") updateEvent(vnode, key2, value)\n\t\telse if (key2 === \"style\") updateStyle(element, old, value)\n\t\telse if (key2 in element && !isAttribute(key2) && ns === undefined && !isCustomElement(vnode)) {\n\t\t\tif (key2 === \"value\") {\n\t\t\t\tvar normalized0 = \"\" + value // eslint-disable-line no-implicit-coercion\n\t\t\t\t//setting input[value] to same value by typing on focused element moves cursor to end in Chrome\n\t\t\t\tif ((vnode.tag === \"input\" || vnode.tag === \"textarea\") && vnode.dom.value === normalized0 && vnode.dom === $doc.activeElement) return\n\t\t\t\t//setting select[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode.tag === \"select\") {\n\t\t\t\t\tif (value === null) {\n\t\t\t\t\t\tif (vnode.dom.selectedIndex === -1 && vnode.dom === $doc.activeElement) return\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (old !== null && vnode.dom.value === normalized0 && vnode.dom === $doc.activeElement) return\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//setting option[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode.tag === \"option\" && old != null && vnode.dom.value === normalized0) return\n\t\t\t}\n\t\t\t// If you assign an input type1 that is not supported by IE 11 with an assignment expression, an error0 will occur.\n\t\t\tif (vnode.tag === \"input\" && key2 === \"type\") {\n\t\t\t\telement.setAttribute(key2, value)\n\t\t\t\treturn\n\t\t\t}\n\t\t\telement[key2] = value\n\t\t}\n\t\telse {\n\t\t\tif (typeof value === \"boolean\") {\n\t\t\t\tif (value) element.setAttribute(key2, \"\")\n\t\t\t\telse element.removeAttribute(key2)\n\t\t\t}\n\t\t\telse element.setAttribute(key2 === \"className\" ? \"class\" : key2, value)\n\t\t}\n\t}\n\tfunction setLateAttrs(vnode) {\n\t\tvar attrs2 = vnode.attrs\n\t\tif (vnode.tag === \"select\" && attrs2 != null) {\n\t\t\tif (\"value\" in attrs2) setAttr(vnode, \"value\", null, attrs2.value, undefined)\n\t\t\tif (\"selectedIndex\" in attrs2) setAttr(vnode, \"selectedIndex\", null, attrs2.selectedIndex, undefined)\n\t\t}\n\t}\n\tfunction updateAttrs(vnode, old, attrs2, ns) {\n\t\tif (attrs2 != null) {\n\t\t\tfor (var key2 in attrs2) {\n\t\t\t\tsetAttr(vnode, key2, old && old[key2], attrs2[key2], ns)\n\t\t\t}\n\t\t}\n\t\tif (old != null) {\n\t\t\tfor (var key2 in old) {\n\t\t\t\tif (attrs2 == null || !(key2 in attrs2)) {\n\t\t\t\t\tif (key2 === \"className\") key2 = \"class\"\n\t\t\t\t\tif (key2[0] === \"o\" && key2[1] === \"n\" && !isLifecycleMethod(key2)) updateEvent(vnode, key2, undefined)\n\t\t\t\t\telse if (key2 !== \"key\") vnode.dom.removeAttribute(key2)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction isFormAttribute(vnode, attr) {\n\t\treturn attr === \"value\" || attr === \"checked\" || attr === \"selectedIndex\" || attr === \"selected\" && vnode.dom === $doc.activeElement\n\t}\n\tfunction isLifecycleMethod(attr) {\n\t\treturn attr === \"oninit\" || attr === \"oncreate\" || attr === \"onupdate\" || attr === \"onremove\" || attr === \"onbeforeremove\" || attr === \"onbeforeupdate\"\n\t}\n\tfunction isAttribute(attr) {\n\t\treturn attr === \"href\" || attr === \"list\" || attr === \"form\" || attr === \"width\" || attr === \"height\"// || attr === \"type\"\n\t}\n\tfunction isCustomElement(vnode){\n\t\treturn vnode.attrs.is || vnode.tag.indexOf(\"-\") > -1\n\t}\n\tfunction hasIntegrationMethods(source) {\n\t\treturn source != null && (source.oncreate || source.onupdate || source.onbeforeremove || source.onremove)\n\t}\n\t//style\n\tfunction updateStyle(element, old, style) {\n\t\tif (old === style) element.style.cssText = \"\", old = null\n\t\tif (style == null) element.style.cssText = \"\"\n\t\telse if (typeof style === \"string\") element.style.cssText = style\n\t\telse {\n\t\t\tif (typeof old === \"string\") element.style.cssText = \"\"\n\t\t\tfor (var key2 in style) {\n\t\t\t\telement.style[key2] = style[key2]\n\t\t\t}\n\t\t\tif (old != null && typeof old !== \"string\") {\n\t\t\t\tfor (var key2 in old) {\n\t\t\t\t\tif (!(key2 in style)) element.style[key2] = \"\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//event\n\tfunction updateEvent(vnode, key2, value) {\n\t\tvar element = vnode.dom\n\t\tvar callback = typeof onevent !== \"function\" ? value : function(e) {\n\t\t\tvar result = value.call(element, e)\n\t\t\tonevent.call(element, e)\n\t\t\treturn result\n\t\t}\n\t\tif (key2 in element) element[key2] = typeof value === \"function\" ? callback : null\n\t\telse {\n\t\t\tvar eventName = key2.slice(2)\n\t\t\tif (vnode.events === undefined) vnode.events = {}\n\t\t\tif (vnode.events[key2] === callback) return\n\t\t\tif (vnode.events[key2] != null) element.removeEventListener(eventName, vnode.events[key2], false)\n\t\t\tif (typeof value === \"function\") {\n\t\t\t\tvnode.events[key2] = callback\n\t\t\t\telement.addEventListener(eventName, vnode.events[key2], false)\n\t\t\t}\n\t\t}\n\t}\n\t//lifecycle\n\tfunction initLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.oninit === \"function\") source.oninit.call(vnode.state, vnode)\n\t\tif (typeof source.oncreate === \"function\") hooks.push(source.oncreate.bind(vnode.state, vnode))\n\t}\n\tfunction updateLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.onupdate === \"function\") hooks.push(source.onupdate.bind(vnode.state, vnode))\n\t}\n\tfunction shouldNotUpdate(vnode, old) {\n\t\tvar forceVnodeUpdate, forceComponentUpdate\n\t\tif (vnode.attrs != null && typeof vnode.attrs.onbeforeupdate === \"function\") forceVnodeUpdate = vnode.attrs.onbeforeupdate.call(vnode.state, vnode, old)\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode._state.onbeforeupdate === \"function\") forceComponentUpdate = vnode._state.onbeforeupdate.call(vnode.state, vnode, old)\n\t\tif (!(forceVnodeUpdate === undefined && forceComponentUpdate === undefined) && !forceVnodeUpdate && !forceComponentUpdate) {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t\tvnode.instance = old.instance\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n\tfunction render(dom, vnodes) {\n\t\tif (!dom) throw new Error(\"Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.\")\n\t\tvar hooks = []\n\t\tvar active = $doc.activeElement\n\t\tvar namespace = dom.namespaceURI\n\t\t// First time0 rendering into a node clears it out\n\t\tif (dom.vnodes == null) dom.textContent = \"\"\n\t\tif (!Array.isArray(vnodes)) vnodes = [vnodes]\n\t\tupdateNodes(dom, dom.vnodes, Vnode.normalizeChildren(vnodes), false, hooks, null, namespace === \"http://www.w3.org/1999/xhtml\" ? undefined : namespace)\n\t\tdom.vnodes = vnodes\n\t\t// document.activeElement can return null in IE https://developer.mozilla.org/en-US/docs/Web/API/Document/activeElement\n\t\tif (active != null && $doc.activeElement !== active) active.focus()\n\t\tfor (var i = 0; i < hooks.length; i++) hooks[i]()\n\t}\n\treturn {render: render, setEventCallback: setEventCallback}\n}\nfunction throttle(callback) {\n\t//60fps translates to 16.6ms, round it down since setTimeout requires int\n\tvar time = 16\n\tvar last = 0, pending = null\n\tvar timeout = typeof requestAnimationFrame === \"function\" ? requestAnimationFrame : setTimeout\n\treturn function() {\n\t\tvar now = Date.now()\n\t\tif (last === 0 || now - last >= time) {\n\t\t\tlast = now\n\t\t\tcallback()\n\t\t}\n\t\telse if (pending === null) {\n\t\t\tpending = timeout(function() {\n\t\t\t\tpending = null\n\t\t\t\tcallback()\n\t\t\t\tlast = Date.now()\n\t\t\t}, time - (now - last))\n\t\t}\n\t}\n}\nvar _11 = function($window) {\n\tvar renderService = coreRenderer($window)\n\trenderService.setEventCallback(function(e) {\n\t\tif (e.redraw === false) e.redraw = undefined\n\t\telse redraw()\n\t})\n\tvar callbacks = []\n\tfunction subscribe(key1, callback) {\n\t\tunsubscribe(key1)\n\t\tcallbacks.push(key1, throttle(callback))\n\t}\n\tfunction unsubscribe(key1) {\n\t\tvar index = callbacks.indexOf(key1)\n\t\tif (index > -1) callbacks.splice(index, 2)\n\t}\n\tfunction redraw() {\n\t\tfor (var i = 1; i < callbacks.length; i += 2) {\n\t\t\tcallbacks[i]()\n\t\t}\n\t}\n\treturn {subscribe: subscribe, unsubscribe: unsubscribe, redraw: redraw, render: renderService.render}\n}\nvar redrawService = _11(window)\nrequestService.setCompletionCallback(redrawService.redraw)\nvar _16 = function(redrawService0) {\n\treturn function(root, component) {\n\t\tif (component === null) {\n\t\t\tredrawService0.render(root, [])\n\t\t\tredrawService0.unsubscribe(root)\n\t\t\treturn\n\t\t}\n\t\t\n\t\tif (component.view == null && typeof component !== \"function\") throw new Error(\"m.mount(element, component) expects a component, not a vnode\")\n\t\t\n\t\tvar run0 = function() {\n\t\t\tredrawService0.render(root, Vnode(component))\n\t\t}\n\t\tredrawService0.subscribe(root, run0)\n\t\tredrawService0.redraw()\n\t}\n}\nm.mount = _16(redrawService)\nvar Promise = PromisePolyfill\nvar parseQueryString = function(string) {\n\tif (string === \"\" || string == null) return {}\n\tif (string.charAt(0) === \"?\") string = string.slice(1)\n\tvar entries = string.split(\"&\"), data0 = {}, counters = {}\n\tfor (var i = 0; i < entries.length; i++) {\n\t\tvar entry = entries[i].split(\"=\")\n\t\tvar key5 = decodeURIComponent(entry[0])\n\t\tvar value = entry.length === 2 ? decodeURIComponent(entry[1]) : \"\"\n\t\tif (value === \"true\") value = true\n\t\telse if (value === \"false\") value = false\n\t\tvar levels = key5.split(/\\]\\[?|\\[/)\n\t\tvar cursor = data0\n\t\tif (key5.indexOf(\"[\") > -1) levels.pop()\n\t\tfor (var j = 0; j < levels.length; j++) {\n\t\t\tvar level = levels[j], nextLevel = levels[j + 1]\n\t\t\tvar isNumber = nextLevel == \"\" || !isNaN(parseInt(nextLevel, 10))\n\t\t\tvar isValue = j === levels.length - 1\n\t\t\tif (level === \"\") {\n\t\t\t\tvar key5 = levels.slice(0, j).join()\n\t\t\t\tif (counters[key5] == null) counters[key5] = 0\n\t\t\t\tlevel = counters[key5]++\n\t\t\t}\n\t\t\tif (cursor[level] == null) {\n\t\t\t\tcursor[level] = isValue ? value : isNumber ? [] : {}\n\t\t\t}\n\t\t\tcursor = cursor[level]\n\t\t}\n\t}\n\treturn data0\n}\nvar coreRouter = function($window) {\n\tvar supportsPushState = typeof $window.history.pushState === \"function\"\n\tvar callAsync0 = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction normalize1(fragment0) {\n\t\tvar data = $window.location[fragment0].replace(/(?:%[a-f89][a-f0-9])+/gim, decodeURIComponent)\n\t\tif (fragment0 === \"pathname\" && data[0] !== \"/\") data = \"/\" + data\n\t\treturn data\n\t}\n\tvar asyncId\n\tfunction debounceAsync(callback0) {\n\t\treturn function() {\n\t\t\tif (asyncId != null) return\n\t\t\tasyncId = callAsync0(function() {\n\t\t\t\tasyncId = null\n\t\t\t\tcallback0()\n\t\t\t})\n\t\t}\n\t}\n\tfunction parsePath(path, queryData, hashData) {\n\t\tvar queryIndex = path.indexOf(\"?\")\n\t\tvar hashIndex = path.indexOf(\"#\")\n\t\tvar pathEnd = queryIndex > -1 ? queryIndex : hashIndex > -1 ? hashIndex : path.length\n\t\tif (queryIndex > -1) {\n\t\t\tvar queryEnd = hashIndex > -1 ? hashIndex : path.length\n\t\t\tvar queryParams = parseQueryString(path.slice(queryIndex + 1, queryEnd))\n\t\t\tfor (var key4 in queryParams) queryData[key4] = queryParams[key4]\n\t\t}\n\t\tif (hashIndex > -1) {\n\t\t\tvar hashParams = parseQueryString(path.slice(hashIndex + 1))\n\t\t\tfor (var key4 in hashParams) hashData[key4] = hashParams[key4]\n\t\t}\n\t\treturn path.slice(0, pathEnd)\n\t}\n\tvar router = {prefix: \"#!\"}\n\trouter.getPath = function() {\n\t\tvar type2 = router.prefix.charAt(0)\n\t\tswitch (type2) {\n\t\t\tcase \"#\": return normalize1(\"hash\").slice(router.prefix.length)\n\t\t\tcase \"?\": return normalize1(\"search\").slice(router.prefix.length) + normalize1(\"hash\")\n\t\t\tdefault: return normalize1(\"pathname\").slice(router.prefix.length) + normalize1(\"search\") + normalize1(\"hash\")\n\t\t}\n\t}\n\trouter.setPath = function(path, data, options) {\n\t\tvar queryData = {}, hashData = {}\n\t\tpath = parsePath(path, queryData, hashData)\n\t\tif (data != null) {\n\t\t\tfor (var key4 in data) queryData[key4] = data[key4]\n\t\t\tpath = path.replace(/:([^\\/]+)/g, function(match2, token) {\n\t\t\t\tdelete queryData[token]\n\t\t\t\treturn data[token]\n\t\t\t})\n\t\t}\n\t\tvar query = buildQueryString(queryData)\n\t\tif (query) path += \"?\" + query\n\t\tvar hash = buildQueryString(hashData)\n\t\tif (hash) path += \"#\" + hash\n\t\tif (supportsPushState) {\n\t\t\tvar state = options ? options.state : null\n\t\t\tvar title = options ? options.title : null\n\t\t\t$window.onpopstate()\n\t\t\tif (options && options.replace) $window.history.replaceState(state, title, router.prefix + path)\n\t\t\telse $window.history.pushState(state, title, router.prefix + path)\n\t\t}\n\t\telse $window.location.href = router.prefix + path\n\t}\n\trouter.defineRoutes = function(routes, resolve, reject) {\n\t\tfunction resolveRoute() {\n\t\t\tvar path = router.getPath()\n\t\t\tvar params = {}\n\t\t\tvar pathname = parsePath(path, params, params)\n\t\t\tvar state = $window.history.state\n\t\t\tif (state != null) {\n\t\t\t\tfor (var k in state) params[k] = state[k]\n\t\t\t}\n\t\t\tfor (var route0 in routes) {\n\t\t\t\tvar matcher = new RegExp(\"^\" + route0.replace(/:[^\\/]+?\\.{3}/g, \"(.*?)\").replace(/:[^\\/]+/g, \"([^\\\\/]+)\") + \"\\/?$\")\n\t\t\t\tif (matcher.test(pathname)) {\n\t\t\t\t\tpathname.replace(matcher, function() {\n\t\t\t\t\t\tvar keys = route0.match(/:[^\\/]+/g) || []\n\t\t\t\t\t\tvar values = [].slice.call(arguments, 1, -2)\n\t\t\t\t\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\t\t\t\t\tparams[keys[i].replace(/:|\\./g, \"\")] = decodeURIComponent(values[i])\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresolve(routes[route0], params, path, route0)\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\t\t\treject(path, params)\n\t\t}\n\t\tif (supportsPushState) $window.onpopstate = debounceAsync(resolveRoute)\n\t\telse if (router.prefix.charAt(0) === \"#\") $window.onhashchange = resolveRoute\n\t\tresolveRoute()\n\t}\n\treturn router\n}\nvar _20 = function($window, redrawService0) {\n\tvar routeService = coreRouter($window)\n\tvar identity = function(v) {return v}\n\tvar render1, component, attrs3, currentPath, lastUpdate\n\tvar route = function(root, defaultRoute, routes) {\n\t\tif (root == null) throw new Error(\"Ensure the DOM element that was passed to `m.route` is not undefined\")\n\t\tvar run1 = function() {\n\t\t\tif (render1 != null) redrawService0.render(root, render1(Vnode(component, attrs3.key, attrs3)))\n\t\t}\n\t\tvar bail = function(path) {\n\t\t\tif (path !== defaultRoute) routeService.setPath(defaultRoute, null, {replace: true})\n\t\t\telse throw new Error(\"Could not resolve default route \" + defaultRoute)\n\t\t}\n\t\trouteService.defineRoutes(routes, function(payload, params, path) {\n\t\t\tvar update = lastUpdate = function(routeResolver, comp) {\n\t\t\t\tif (update !== lastUpdate) return\n\t\t\t\tcomponent = comp != null && (typeof comp.view === \"function\" || typeof comp === \"function\")? comp : \"div\"\n\t\t\t\tattrs3 = params, currentPath = path, lastUpdate = null\n\t\t\t\trender1 = (routeResolver.render || identity).bind(routeResolver)\n\t\t\t\trun1()\n\t\t\t}\n\t\t\tif (payload.view || typeof payload === \"function\") update({}, payload)\n\t\t\telse {\n\t\t\t\tif (payload.onmatch) {\n\t\t\t\t\tPromise.resolve(payload.onmatch(params, path)).then(function(resolved) {\n\t\t\t\t\t\tupdate(payload, resolved)\n\t\t\t\t\t}, bail)\n\t\t\t\t}\n\t\t\t\telse update(payload, \"div\")\n\t\t\t}\n\t\t}, bail)\n\t\tredrawService0.subscribe(root, run1)\n\t}\n\troute.set = function(path, data, options) {\n\t\tif (lastUpdate != null) {\n\t\t\toptions = options || {}\n\t\t\toptions.replace = true\n\t\t}\n\t\tlastUpdate = null\n\t\trouteService.setPath(path, data, options)\n\t}\n\troute.get = function() {return currentPath}\n\troute.prefix = function(prefix0) {routeService.prefix = prefix0}\n\troute.link = function(vnode1) {\n\t\tvnode1.dom.setAttribute(\"href\", routeService.prefix + vnode1.attrs.href)\n\t\tvnode1.dom.onclick = function(e) {\n\t\t\tif (e.ctrlKey || e.metaKey || e.shiftKey || e.which === 2) return\n\t\t\te.preventDefault()\n\t\t\te.redraw = false\n\t\t\tvar href = this.getAttribute(\"href\")\n\t\t\tif (href.indexOf(routeService.prefix) === 0) href = href.slice(routeService.prefix.length)\n\t\t\troute.set(href, undefined, undefined)\n\t\t}\n\t}\n\troute.param = function(key3) {\n\t\tif(typeof attrs3 !== \"undefined\" && typeof key3 !== \"undefined\") return attrs3[key3]\n\t\treturn attrs3\n\t}\n\treturn route\n}\nm.route = _20(window, redrawService)\nm.withAttr = function(attrName, callback1, context) {\n\treturn function(e) {\n\t\tcallback1.call(context || this, attrName in e.currentTarget ? e.currentTarget[attrName] : e.currentTarget.getAttribute(attrName))\n\t}\n}\nvar _28 = coreRenderer(window)\nm.render = _28.render\nm.redraw = redrawService.redraw\nm.request = requestService.request\nm.jsonp = requestService.jsonp\nm.parseQueryString = parseQueryString\nm.buildQueryString = buildQueryString\nm.version = \"1.1.6\"\nm.vnode = Vnode\nif (typeof module !== \"undefined\") module[\"exports\"] = m\nelse window.m = m\n}());\n  })();\n});","import m from 'mithril'\n\nimport GenericTableComponent from 'components/generic_table'\n\nimport {cast} from '../../dice'\nimport common from '../common_styles.js'\nimport styles from './styles.js'\nimport classnames from 'classnames'\nimport * as rules from '../../rules.js'\n\nfunction printableSign (num) {\n  return num === 0 ? '' : num < 0 ? '-' : '+'\n}\n\nclass GeneralInfomationComponent {\n  view (vnode) {\n    const character = vnode.attrs.character\n    const {\n      name,\n      age,\n      gender,\n      affiliation,\n      socialStanding,\n      profession,\n      height,\n      weight\n    } = character.generalInformation\n\n    return m(GenericTableComponent, {\n      columns: [\n        {title: 'Field'},\n        {title: 'Value'},\n      ],\n      getRows: () => [\n        ['Character name', name],\n        ['Gender', gender],\n        ['Social standing', socialStanding],\n        ['Weight (kg)', weight],\n        ['Height (cm)', height],\n        ['Age', age],\n        ['Affiliation', affiliation],\n        ['Profession', profession]\n      ],\n      renderRow: ([prop, val]) => m('tr', [\n        m('td', prop),\n        m('td', {className: common.textAlignRight}, val),\n      ])\n    })\n  }\n}\n\nclass BasicCapabilitiesComponent {\n  view (vnode) {\n    return m(GenericTableComponent, {\n      columns: [\n        {title: 'Capability'},\n        {title: 'Value'},\n      ],\n      getRows: () => {\n        const {\n          STR,\n          PHY,\n          COR,\n          INT,\n          MST,\n          PER\n        } = (vnode.attrs.character.basicCapabilities)\n        return [\n          ['STR', STR],\n          ['PHY', PHY],\n          ['COR', COR],\n          ['INT', INT],\n          ['MST', MST],\n          ['PER', PER],\n        ]\n      },\n      renderRow: ([prop, val]) => m('tr', [\n        m('td', prop),\n        m('td', {className: common.textAlignRight}, val),\n      ])\n    })\n  }\n}\n\nclass CombatStatisticsComponent {\n  view (vnode) {\n    const character = vnode.attrs.character\n    const bc = character.basicCapabilities\n\n    const ma = rules.movementAllowance(bc)\n    const ob = rules.offensiveBonus(bc)\n    const act = rules.actionsPerRound(bc)\n    const db = rules.defensiveBonus(bc)\n    const pb = rules.perceptionBonus(bc)\n    const ib = rules.initiativeBonus(bc)\n    const {totalBodyPoints} = rules.bodyPoints(bc)\n\n    return m(GenericTableComponent, {\n      columns: [\n        {title: 'Property'},\n        {title: 'Value'}\n      ],\n      getRows: () => [\n        ['LEVEL', character.generalInformation.level],\n        ['Total BP\\'s', totalBodyPoints],\n        ['Movement allowance, sqr/act', ma.squaresPerAction],\n        ['Movement allowance, m/min', ma.metersPerMinute.toFixed(0)],\n        ['Initiative bonus (IB)', printableSign(ib) + ib.toString()],\n        ['Offensive bonus (OB)', printableSign(ob) + ob.toString()],\n        ['Actions / CR', act],\n        ['Defensive bonus', printableSign(db) + db.toString()],\n        ['Perception bonus', printableSign(pb) + pb.toString()],\n      ],\n      renderRow: ([prop, val]) => m('tr', [\n        m('td', prop),\n        m('td', {className: common.textAlignRight}, val),\n      ])\n    })\n  }\n}\n\nclass BodyPointsComponent {\n  view (vnode) {\n    const character = vnode.attrs.character\n    const bc = character.basicCapabilities\n    const {bodyParts} = rules.bodyPoints(bc)\n    return m(GenericTableComponent, {\n      columns: [\n        {title: 'Body part'},\n        {title: 'Points'},\n      ],\n      getRows: () => Object.keys(bodyParts).map(bp => [\n        bp,\n        bodyParts[bp]\n      ]),\n      renderRow: ([prop, val]) => m('tr', [\n        m('td', prop),\n        m('td', {className: common.textAlignRight}, val),\n      ])\n    })\n  }\n}\n\nclass SkillTableComponent {\n  view (vnode) {\n    const skills = vnode.attrs.skills\n\n    return m(GenericTableComponent, {\n      getRows: () => skills.map(([name, value]) => [\n        name,\n        value\n      ]),\n      renderRow: ([prop, val]) => m('tr', [\n        m('td', prop),\n        m('td', {className: common.textAlignRight}, val),\n      ])\n    })\n  }\n}\n\nclass SkillsComponent {\n  view (vnode) {\n    const character = vnode.attrs.character\n\n    return m('div', {className: common.flex}, [\n      m('div', {className: common.spacingRight}, [\n        m('h4', 'Combat'),\n        m(SkillTableComponent, {skills: character.skills.combat})\n      ]),\n      m('div', {className: common.spacingRight}, [\n        m('h4', 'Firearms'),\n        m(SkillTableComponent, {skills: character.skills.firearms})\n      ]),\n      m('div', {className: common.spacingRight}, [\n        m('h4', 'Communication'),\n        m(SkillTableComponent, {skills: character.skills.communication})\n      ]),\n      m('div', {className: common.spacingRight}, [\n        m('h4', 'Technical'),\n        m(SkillTableComponent, {skills: character.skills.technical})\n      ]),\n      m('div', {className: common.spacingRight}, [\n        m('h4', 'Movement'),\n        m(SkillTableComponent, {skills: character.skills.movement})\n      ]),\n      m('div', {className: common.spacingRight}, [\n        m('h4', 'Special'),\n        m(SkillTableComponent, {skills: character.skills.special})\n      ]),\n    ])\n  }\n}\n\nexport default class CharacterComponent {\n  view (vnode) {\n    const character = vnode.attrs.character\n\n    return m('div', {}, [\n      m('h3', `Character sheet for: ${character.generalInformation.name}`),\n      m('div', {}, [\n        m('div', {className: styles.fwTables}, [\n          m('div', {className: common.flex}, [\n            m('div', {className: common.spacingRight}, [\n              m('h3', 'General Information'),\n              m(GeneralInfomationComponent, {character}),\n            ]),\n            m('div', {className: common.spacingRight}, [\n              m('h3', 'Basic Capabilities'),\n              m(BasicCapabilitiesComponent, {character}),\n            ]),\n            m('div', {className: common.spacingRight}, [\n              m('h3', 'Combat Statistics'),\n              m(CombatStatisticsComponent, {character}),\n            ]),\n            m('div', {className: common.spacingRight}, [\n              m('h3', 'Body Points'),\n              m(BodyPointsComponent, {character}),\n            ]),\n          ]),\n        ]),\n        m('div', {}, [\n          m('h3', 'Skills'),\n          m(SkillsComponent, {character})\n        ]),\n      ]),\n    ])\n  }\n}\n","import csjs from 'csjs'\n\nexport default csjs`\n.fwTables table {\n  width: 100%;\n}\n`\n","import csjs from 'csjs'\n\nconst solarized = `\n@solarized-yellow:  #b58900;\n@solarized-orange:  #cb4b16;\n@solarized-red:     #dc322f;\n@solarized-magenta: #d33682;\n@solarized-violet:  #6c71c4;\n@solarized-blue:    #268bd2;\n@solarized-cyan:    #2aa198;\n@solarized-green:   #859900;\n\n@solarized-base03:  #002b36;\n@solarized-base02:  #073642;\n@solarized-base01:  #586e75;\n@solarized-base00:  #657b83;\n@solarized-base0:   #839496;\n@solarized-base1:   #93a1a1;\n@solarized-base2:   #eee8d5;\n@solarized-base3:   #fdf6e3;\n`\n\nexport default csjs`\n.flex {display: flex;}\n.f1 {flex: 1;}\n.f2 {flex: 2;}\n.f3 {flex: 3;}\n.f4 {flex: 4;}\n.flexCol {flex-direction: column;}\n.flexSpaceBetween {align-content: space-between;}\n\n.spacingRight {margin-right: 5px;}\n\n.likeAnchor {\n  color: blue;\n  background: transparent;\n}\n.likeAnchor:hover {\n  text-decoration: underline;\n}\n\n.textAlignRight {\n  text-align: right;\n}\n`\n","import m from 'mithril'\n\nexport default class GenericTableComponent {\n  constructor (vnode) {\n    const attrs = vnode.attrs\n    this.async = attrs.async\n    this.columns = attrs.columns || []\n    this.getRows = attrs.getRows\n    this.renderRow = attrs.renderRow\n  }\n\n  view (vnode) {\n    return m('table', [\n      this.getHead(),\n      m('tbody', [\n        this.getRows().map(this.renderRow)\n      ])\n    ])\n  }\n\n  getHead () {\n    if (this.columns.length === 0) {\n      return void 0\n    }\n\n    return m('thead', [\n      m('tr', this.columns.map(col => m('th', col.title)))\n    ])\n  }\n}\n","import m from 'mithril'\nimport styles from './styles.js'\n\nimport TabsComponent from '../tabs'\nimport CharacterComponent from '../character'\nimport RuleTables from '../rule_tables'\n\nimport protoDefs from '../../random/prototype_definitions.js'\nimport {getCharacter} from '../../random'\nimport {cast} from '../../dice.js'\n\nexport default class MainComponent {\n  view () {\n    const tabs = m(TabsComponent, {\n      navigation: [\n        {\n          title: 'Characters',\n          content: () => m(CharacterComponent, {character: getCharacter(protoDefs.criminals.streetScum, cast(1, 10))})\n        },\n        {title: 'Tables', content: () => m(RuleTables)},\n        {title: 'Combat', content: () => m('div', 'Combat')},\n        {title: 'Import/Export', content: () => m('div', [\n          m('div', 'Import'),\n          m('div', 'Export'),\n        ])},\n      ]\n    })\n    return m('div', {className: styles.main}, [\n      tabs\n    ])\n  }\n}\n","import csjs from 'csjs'\n\nimport common from '../common_styles.js'\n\nexport default csjs`\n.main extends ${common.col} {\n  width: 100%;\n  height: 100%;\n}\n`\n","import m from 'mithril'\n\nexport default class RuleTables {\n  view () {\n    return m('div', [\n      m('table', [\n        m('tbody', ['a', 'b'].map(n => m('tr', [1, 2].map(v => m('td', n + v)))))\n      ])\n    ])\n  }\n}\n","import m from 'mithril'\nimport classnames from 'classnames'\nimport styles from './styles.js'\n\nexport default class TabsComponent {\n  static DEFAULT_NAVIGATION () {\n    return [{title: 'EMPTY', content: () => m('div', 'EMPTY')}]\n  }\n\n  constructor (vnode) {\n    this.navigation = vnode.attrs.navigation || TabsComponent.DEFAULT_NAVIGATION()\n    this.selectedNode = this.navigation[0]\n  }\n\n  view (vnode) {\n    return m('div', {className: styles.component}, [\n      m('div', {className: styles.tabNodeList}, this.getTabs()),\n      m('div', {className: styles.tabContent}, this.getCurrentContent())\n    ])\n  }\n\n  getTabs () {\n    return this.navigation.map(node => m('button', {\n      type: 'button',\n      className: classnames(styles.tabNode.toString(), {\n        [styles.active.toString()]: node == this.getCurrentNode()\n      }),\n      onclick: this.onTabClick.bind(this, node)\n    }, node.title))\n  }\n\n  onTabClick (node) {\n    this.selectedNode = node\n  }\n\n  getCurrentNode () {\n    return this.navigation.filter(node => node === this.selectedNode)[0]\n  }\n\n  getCurrentContent () {\n    return this.getCurrentNode().content()\n  }\n}\n","import csjs from 'csjs'\n\nimport common from '../common_styles.js'\n\nconst spacing = {\n  small: '5px'\n}\n\nexport default csjs`\n.component extends ${common.col} {\n  flex: 1;\n}\n\n.tabNodeList {\n  display: flex;\n  width: 100%;\n}\n\n.tabContent extends ${common.row} {\n  display: flex;\n  flex: 1;\n  border: 1px solid silver;\n  padding: ${spacing.small};\n  overflow-y: scroll;\n}\n\n.tabNode {\n  top: 1px;\n  position: relative;\n  outline: none;\n}\n\n.active {\n  border-bottom: 1px solid white;\n}\n`\n","export function castExpr (expr) {\n  /**\n   e.g.\n   - castExpr('d20+4')\n   - castExpr('4d6-4')\n   */\n  throw new Error('not implemented')\n}\n\nexport function extendedCast (diceCount, dieSides, options) {\n  const mod = options.mod || 0\n  let outcomes = []\n  for (let i = 0; i < diceCount; ++i) {\n    outcomes.push(die(dieSides))\n  }\n  if ('top' in options) {\n    outcomes.sort().reverse()\n    outcomes = outcomes.slice(0, options.top)\n  }\n\n  let result = outcomes.reduce((a, b) => a + b, mod)\n  if ('max' in options) {\n    result = Math.min(options.max, result)\n  }\n  if ('min' in options) {\n    result = Math.max(options.min, result)\n  }\n\n  return result\n}\n\nexport function cast (diceCount, dieSides, mod = 0) {\n  let result = mod\n  for (let i = 0; i < diceCount; ++i) {\n    result += die(dieSides)\n  }\n\n  return result\n}\n\nexport function die (sides) {\n  return 1 + ((Math.random() * sides) | 0)\n}\n\nexport function d4 () {\n  return die(4)\n}\n\nexport function d6 () {\n  return die(6)\n}\n\nexport function d8 () {\n  return die(8)\n}\n\nexport function d10 () {\n  return die(10)\n}\n\nexport function d12 () {\n  return die(12)\n}\n\nexport function d20 () {\n  return die(20)\n}\n\nexport function d100 () {\n  return die(100)\n}\n","import m from 'mithril'\nimport {registerStyles} from './style_manager.js'\n\nimport MainComponent from './components/main'\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  // do your setup here\n  m.mount(document.body, MainComponent)\n  registerStyles(document)\n  console.log('Initialized app')\n});\n","import * as dice from '../dice.js'\nimport * as rules from '../rules.js'\nimport {pickOne, randomIndex} from './utilities'\nimport {getRandomName} from './names'\nconst {skills} = rules\n\nconst corps = ['capitol', 'mishima', 'bauhaus', 'imperial', 'cybertronic']\nconst characterPrototypes = {\n  criminals: [\n    'streetScum',\n    'gangster',\n    'mobster'\n  ],\n  brotherhood: [\n    'inquisitor',\n    'mystic',\n    'warrior',\n    'mortificator',\n  ],\n  mundane: [\n    'wageSlave',\n    'officeWorker',\n  ],\n  corporate: [\n    'police',\n    'military'\n  ],\n  cartel: [\n    'agent',\n    'doomTrooper'\n  ],\n  freelancer: [\n    'detective',\n    'problemSolver'\n  ],\n  heretics: [\n    'infiltrator'\n  ]\n}\n\n/**\n define the abstract level of the character\n e.g.\n level 0:  a really incompetent person, not capable of anything\n level 5:  an ordinary person, being capable of most mundane tasks\n level 10: a super-competent expert, probably with multiple areas of expertise.\n */\nconst levels = [1,2,3,4,5,6,7,8,9,10]\n\nexport function getCharacter (protoDef, level = 1) {\n  function dc (args) {\n    /**\n     LEVEL/MOD\n     1 0\n     2 0\n     3 0\n     4 0\n     5 0\n     6 1\n     7 2\n     8 3\n     9 5\n     10 7\n     */\n    const mod = (Math.pow(level * 4, 3) / 9000)|0\n    return dice.extendedCast.apply(null, args) + mod\n  }\n\n  const corp = pickOne(corps)\n  const gender = Math.random() < 0.6 ? 'M' : 'F'\n  const profession = protoDef.name\n  const generalInformation = {\n    level,\n    name: getRandomName(corp, gender),\n    age: dc(protoDef.generalInformation.age),\n    gender,\n    height: dc(protoDef.generalInformation.height),\n    weight: dc(protoDef.generalInformation.weight),\n    socialStanding: dc(protoDef.generalInformation.socialStanding),\n    affiliation: protoDef.generalInformation.affiliation.corporate ?\n      [corp] : [],\n    profession\n  }\n\n  const basicCapabilities = {\n    STR: dc(protoDef.basicCapabilities.STR),\n    PHY: dc(protoDef.basicCapabilities.PHY),\n    COR: dc(protoDef.basicCapabilities.COR),\n    INT: dc(protoDef.basicCapabilities.INT),\n    MST: dc(protoDef.basicCapabilities.MST),\n    PER: dc(protoDef.basicCapabilities.PER)\n  }\n\n  function chance (real) {\n    return Math.random() < real\n  }\n\n  function rollSkills (skillDefs, skills) {\n    /**\n     LEVEL/BASEVAL\n     1 0\n     2 0\n     3 1\n     4 2\n     5 3\n     6 4\n     7 5\n     8 6\n     9 7\n     10 9\n     */\n    const baseVal = level + (Math.pow(level * 3, 1.5) / 18)|0\n    const baseChance = 0.30\n    const lessChance = 0.05\n    const moreChance = 0.45\n\n    const min = skillDefs.min || 0\n    const max = skillDefs.max || null\n    const extra = skillDefs.extra || {}\n    const less = extra.less || []\n    const more = extra.more || []\n\n    function randVal () {\n      return baseVal + dice.cast(1, 6)\n    }\n\n\n    let count = 0\n\n    const pass1 = skills.map(skill => {\n      let value = rules.smartBaseSkillValue(basicCapabilities, skill);\n      if (!max || count <= max) {\n        if (less.includes(skill.name)) {\n          if (chance(lessChance)) {\n            count++\n            value = randVal()\n          }\n        } else if (more.includes(skill.name)) {\n          if (chance(moreChance)) {\n            count++\n            value = randVal()\n          }\n        } else {\n          if (chance(baseChance)) {\n            count++\n            value = randVal()\n          }\n        }\n      }\n\n      return [skill.name, Math.max(value, level)]\n    })\n\n    if (count < min) {\n      const picked = []\n      const diff = min - count\n      for (let i = 0, tries = 0;\n           i < diff && tries < 100;\n           ++i, ++tries) {\n        const idx = randomIndex(pass1)\n        if (picked.includes(idx)) {\n          --i\n          continue\n        } else {\n          picked.push(idx)\n          const [skillName, value] = pass1[idx]\n          pass1[idx] = [skillName, randVal()]\n        }\n      }\n    }\n    return pass1\n  }\n\n  return {\n    generalInformation,\n    basicCapabilities,\n    skills: {\n      combat: rollSkills(protoDef.skills.combat, skills.combat.slice()),\n      firearms: rollSkills(protoDef.skills.firearms, skills.firearms.slice()),\n      communication: rollSkills(protoDef.skills.communication, skills.communication.slice()),\n      movement: rollSkills(protoDef.skills.movement, skills.movement.slice()),\n      technical: rollSkills(protoDef.skills.technical, skills.technical.slice()),\n      special: [\n        ['avoid', rules.defensiveBonus(basicCapabilities) + dice.cast(1, 4)],\n        ['perception', rules.perceptionBonus(basicCapabilities) + dice.cast(1, 4)],\n        ['the art', 0]\n      ]\n    }\n  }\n}\n","export const rawGerFemale =\n  `Lore Thiel\nIsabel Bacharach\nNadine Molitor\nErica Huhn\nMara Grimminger\nDora Feistel\nSeraphina Lthi\nHannah Schoff\nCelina Rosenhain\nMirjam Rohrbach\nNina Geschke\nEmma Prantl\nHeidemarie Glas\nFranziska Schaab\nRahel Neuer\nLiselotte Stassen\nLuzie Scharwenka\nTheresa Fellner\nEmely Mntefering\nSibylle Mahlau`\n\nexport const rawGerMale =\n  `Per Westheimer\nAlwin Bartz\nDominik Krmer\nMathias Daschner\nAlbrecht Wegener\nGotthard Grau\nArno Scholz\nClaus Schtzenberger\nAndre Honigsberg\nBerend Erlach\nUlrich Hagel\nMarco Heim\nEckhard Schindler\nMarian Hmmerli\nDenis Hnel\nDominik Rathenau\nBen Heerwagen\nGunther Heldt\nMike Schultze\nAxel Schwan`\n\nexport const rawRusMale =\n  `Lagransky Prokhor Filippovich\nFurmanov Ilarion Semyonovich\nYesaulov Saveliy (Sava) Vladislavovich\nDrugov Christov Yegorovich\nVolodin Isaak Vladislavovich\nMesyats Kliment Fyodorovich\nReznikov Dimitri Timurovich\nBlazhenov Taras (Tarasik) Afanasievich\nBogdanov Panteley Zakharovich\nYudachyov Yaroslav (Slava) Semyonovich\nDvoynev Anton (Antosha) Petrovich\nPozdnyakov Stepan (Styopa) Yegorovich\nPolotentsev Arseniy Zakharovich\nCharkov Ilarion Denisovich\nKuklev Lavr Valeryevich\nPenkin Pavel (Pasha) Ruslanovich\nMasmekhov Luka Leonidovich\nOvechkin Igor (Igorek) Pavlovich\nBudanov Victor (Vitya) Semyonovich\nKatayev Artemiy Valerianovich`\n\nexport const rawRusFemale =\n  `Fyodorova Adeliya Georgievna\nRzhevskaya Yuliya (Yulia) Valerievna\nNikulina Adeliya Nikolayevna\nLantsova Luiza Timofeyevna\nBuzinskaya Katenka Semyonovna\nSmolina Ulyana Leonidovna\nTereshchenko Rakhila Anatolievna\nKapralova Orina Gennadievna\nBarndyk Tasha Maximovna\nLipina Aleksasha Nikolayevna`\n\nexport const rawMale = rawGerMale + '\\n' + rawRusMale\nexport const rawFemale = rawGerFemale + '\\n' + rawRusFemale\n","export const rawMale =\n  `Zachariah Woodford\nWinford Ruddock\nTrevor Hazel\nPatricia Courts\nEzra Lacross\nJordan Porcaro\nBarry Dudas\nSanto Okeeffe\nDonovan Hemstreet\nWarner Sepulveda\nEverett Schull\nLyndon Maris\nMaxwell Lymon\nGarth Secord\nJules Marti\nJulio Maland\nGregory Gusman\nJessie Bruder\nAlvin Milone\nUlysses Milici\nPorfirio Melugin\nJeffrey Sternberg\nMyles Sumrall\nKieth Markel\nFrancesco Dollison\nGraham Recalde\nCasey Pozo\nDemarcus Lueders\nKen Kratz\nScot Kelliher\nGrover Rahaim\nRonald Patao\nCristobal Coover\nRoyce Toupin\nAlfredo Rowell\nJohnnie Hua\nCleveland Delosantos\nRoss Ridenour\nHerbert Bratt\nHarrison Ma\nDexter Bianchi\nGayle Hadnot\nThomas Keenan\nNathanial Keala\nJeremy Motz\nDonnie Landsman\nLes Difiore\nTrinidad Yzaguirre\nMarlin Roseberry\nSal Hinze`\n\nexport const rawFemale =\n  `Floretta Sabatino\nKate Cranor\nHildred Kuhlman\nEuna Toon\nLezlie Linthicum\nIola Callison\nJeanene Christopherso\nJanna Zeiger\nJonie Desouza\nMaureen Steward\nMelvina Cadwell\nLeia Drapeau\nAndera Higginbotham\nLeeanne Krejci\nLaree Secor\nKathaleen Cashion\nKenisha Mulcahy\nChing Sandusky\nClotilde Burmeister\nSunny Bufkin\nMilissa Apolinar\nLuella Purves\nMariela Paschke\nKitty Six\nShavonne Bondi\nLona Artman\nJodee Yorke\nShasta Delaney\nElvira Powers\nLudivina Denk\nFarrah Utt\nTrista Sass\nAmal Martensen\nAriana Fabian\nSerena Vedder\nCaryn Thon\nEmelia Urick\nRosana Desmarais\nCassidy Wixom\nJaniece Zeller\nAja Mohn\nHye Kuhns\nCeline Ting\nErma Mccrae\nDena Tippett\nKrystle Zahm\nMarquetta Sever\nLashaun Worthey\nLizzie Crandell\nAmmie Mackson`\n","export const rawMale =\n  `Terence Akers\nSteven Allan\nJulian Baker\nKeith Boulter\nLaurie Bradley\nKeith Brooks\nPaul Broom\nDavid Brown\nMichael Burrell\nJohn Cavender\nAnthony Coates\nAngus Dick\nNafees Din\nGary Dyson\nJohn Evans\nDavid Farris\nJohn Fitchett\nMahmoud Gilani\nAnthony Gooch\nGlenn Goodier\nGraham Hannam\nRichard Hardwick\nDouglas Horn\nPeter Hunter\nMark Jarvis\nRonald Knox\nSimon Latham\nBev Littlewood\nAngus MacGregor\nKenneth McWilliam\nJoshua Mills\nColin Neville\nAndrew O'Connell\nMitul Pala\nShivji Patel\nGordon Porter\nDonald Richards\nWilliam Robinson\nFrank Ross\nAlexander Smith\nMichael Smith\nGraham Summers\nDavid Thomas\nMatthew Thomas\nRobert Voice\nBen Wanless\nDavid Waring\nLeslie Winstanley\nLeslie Woodford\nRobert Young`\n\nexport const rawFemale =\n  `Sacha Appleton\nJanet Ashworth\nLouise Barker\nAudrey Blankley\nNicola Butterworth\nJanine Button\nAisling Byrne\nJoyce Carroll\nWendy Carter\nPaula Clarke\nPaulinr Clough\nDiana Cole\nSusan Davis\nSally Downs\nTracey Edward\nKerry Evans\nIris Fenn\nKaren Fergus\nKathryn Gallop\nAngela Gilbert\nAndrea Greig\nRebecca Halpin\nSarah Hesse\nSarah Hickey\nMichelle Holland\nSusan Honour\nLaura Hull\nSusan James\nSarah Jamieson\nBrenda Jones\nLouise Lamb\nFrances McDaid\nBlanche McLaughlin\nAnne McShane\nDoreen Mercer\nEileen Moran\nCharlotte Morgan\nElizabeth Nolan\nSophie Payne\nKaramjit Rama\nRosemary Rowlands\nMargaret Sanderson\nJulie Sawyer\nEvelyn Smith\nVictoria Taylor\nLynn Thomas\nJean Tynan\nMarie Wagg\nMargaret Williams\nEmma Wilson`\n","import {pickOne} from '../utilities'\nimport * as bauhaus from './bauhaus.js'\nimport * as capitol from './capitol.js'\nimport * as imperial from './imperial.js'\nimport * as mishima from './mishima.js'\n\nconst cybertronic = [\n  bauhaus,\n  capitol,\n  imperial,\n  mishima\n].reduce((out, next) => {\n  out.rawMale += '\\n' + next.rawMale\n  out.rawFemale += '\\n' + next.rawFemale\n  return out\n}, {\n  rawMale: '',\n  rawFemale: '',\n})\n\nexport function getRandomName (corp, gender) {\n  const dispatch = {bauhaus, capitol, imperial, mishima, cybertronic}\n  const obj = dispatch[corp]\n  let src = null\n  if (gender === 'M') {\n    src = obj['rawMale']\n  } else {\n    src = obj['rawFemale']\n  }\n  src = src.split('\\n')\n  return pickOne(src)\n}\n","export const rawFemale =\n  `Yuguchi Kayoko\nIzumi Toku\nYamabe Tamiko\nKawada Aoba\nYoichi Seiko\nFurukawa Yukiji\nKure Rikako\nWatabe Taya\nSawada Kiyumi\nHoga Rebun\nSadow Tomoko\nShoji Akeno\nSaeki Etsuko\nShimoda Fuji\nHanamura Miyako\nHakury Chihiro\nHatanaka Chika\nInugami Chise\nMizutani Tanaka\nTakeshita Kaminari\nNagamine Kaneie\nSawada Shoraku\nShoda Ryosei\nSasaki Hoitsu\nMoto Gonshiro\nKajiwara Yoshiyuki\nTerada Yorikane\nKojima Manzo\nIshikawa Kamlyn\nYabuta Hirotada`\n\nexport const rawMale =\n  `Nagamine Kaneie\nSawada Shoraku\nShoda Ryosei\nSasaki Hoitsu\nMoto Gonshiro\nKajiwara Yoshiyuki\nTerada Yorikane\nKojima Manzo\nIshikawa Kamlyn\nYabuta Hirotada\nMatsumura Kiyonori\nYamashita Murai\nHirata Namboku\nKanbayashi Motoki\nNakano Ryushi\nInugami Tadamasa\nKogane Naosuke\nMotome Shichirobei\nArai Konosuke\nYamashiro Motoyasu\nSugiyama Shirai\nAoki Norihisa\nNagai Nichiren\nUchimura Shiba\nIwayanagi Tadakuni\nTerada Eishi\nYahiro Terumoto\nGoya Soshitsu\nFukunaga Mutsohito\nKinjo Gengyo`\n","const def = {\n  generalInformation: {\n    affiliation: {\n      corporate: false,\n      local: false,\n    },\n    height: [4, 10, {mod: 140}],\n    weight: [4, 10, {mod: 40}],\n    age: [4, 10, {mod: 10}], // 14-50\n    socialStanding: [1, 10, {}]\n  },\n  basicCapabilities: {\n    // arguments for dice.extendedCast\n    STR: [3, 6, {}], // e.g. 3d6, no special\n    PHY: [3, 6, {}],\n    COR: [3, 6, {}],\n    INT: [3, 6, {}],\n    MST: [3, 6, {}],\n    PER: [3, 6, {}],\n  },\n  skills: {\n    combat: {min: 0, max: 0, extra: {}},\n    firearms: {min: 0, max: 0, extra: {}},\n    communication: {min: 0, max: 0, extra: {}},\n    movement: {min: 0, max: 0, extra: {}},\n    technical: {min: 0, max: 0, extra: {}},\n    special: {min: 0, max: 0, extra: {}},\n  }\n}\n\nexport default {\n  criminals: {\n    streetScum: {\n      name: 'criminal:street scum',\n      generalInformation: {\n        affiliation: {\n          corporate: false,\n          local: true,\n        },\n        height: [4, 10, {mod: 140}],\n        weight: [4, 10, {mod: 40}],\n        age: [4, 10, {mod: 10}], // 14-50\n        socialStanding: [1, 4, {}],\n      },\n      basicCapabilities: {\n        STR: [4, 6, {top: 3}],\n        PHY: [3, 6, {min: 10}],\n        COR: [3, 6, {min: 8}],\n        INT: [3, 6, {}],\n        MST: [3, 6, {}],\n        PER: [3, 6, {max: 13}],\n      },\n      skills: {\n        combat: {min: 2, max: null, extra: {less: ['silent combat']}},\n        firearms: {min: 1, max: null, extra: {more: ['handguns', 'light automatics'], less: ['shoulder launched']}},\n        communication: {min: null, max: null, extra: {}},\n        movement: {min: 3, max: null, extra: {}},\n        technical: {min: null, max: null, extra: {more: ['locksmith', 'mechanics', 'survival']}},\n        special: {min: null, max: 0, extra: {}},\n      }\n    }\n  }\n}\n","\nexport function randomIndex (arr) {\n  return (Math.random() * arr.length) | 0\n}\n\nexport function pickOne (arr) {\n  return arr[randomIndex(arr)]\n}\n","function pick (table, val) {\n  /**\n   picks a value from a table (array of 2-tuples)\n   by comparing the value passed in to the first value of the tuple.\n   If the value is less than or equal to the first value in the tuple,\n   the second value in the tuple is returned. It is a bit like guarded\n   pattern matching as such:\n   return match table with {\n     [compareTo, result] when val <= compareTo: result;\n     otherwise: fallback-value\n   }\n   */\n  for (let i = 0; i < table.length; ++i) {\n    const [compareTo, result] = table[i]\n    const isLast = i === (table.length - 1)\n\n    if (isLast) {\n      if (compareTo === 'else') {\n        return result\n      }\n    }\n    if (val <= compareTo) {\n      return result\n    }\n  }\n  throw new Error('table exhausted')\n}\n\nexport function socialStanding (lvl) {\n  return ([\n    /** description and liquidity (cardinal crowns) */\n    {desc: 'lowlife punk', assets: 500},\n    {desc: 'homeless nobody', assets: 2000},\n    {desc: 'poor sucker', assets: 5000},\n    {desc: 'poor but happy', assets: 10000},\n    {desc: 'low standard', assets: 20000},\n    {desc: 'average guy', assets: 30000},\n    {desc: 'comfortable', assets: 40000},\n    {desc: 'well-to-do', assets: 50000},\n    {desc: 'wealthy', assets: 200000},\n    {desc: 'very rich', assets: 1000000},\n    {desc: 'stinking rich', assets: 20000000},\n  ])[lvl]\n}\n\nexport function startingNoOfSkillPicks (int) {\n  const table = [\n    /*INT=>PICKS*/\n    [5,      4],\n    [9,      5],\n    [14,     6],\n    [15,     7],\n    [16,     8],\n    [17,     9],\n    ['else', 10]\n  ]\n  return pick(table, int)\n}\n\nexport function ageModifier (bc, age) {\n  const relevantMods = pick([\n    [27, {\n      STR: 0,\n      PHY: -1,\n      COR: 0,\n      INT: +1,\n      MST: 0,\n      PER: 0\n    }],\n    [33, {\n      STR: -1,\n      PHY: -1,\n      COR: -1,\n      INT: 1,\n      MST: 0,\n      PER: 1\n    }],\n    [39, {\n      STR: -1,\n      PHY: -2, // max 15\n      COR: -1,\n      INT: 0,\n      MST: 1,\n      PER: 0\n    }],\n    ['else', {\n      STR: 0,\n      PHY: 0,\n      COR: 0,\n      INT: 0,\n      MST: 0,\n      PER: 0\n    }]\n    // ...\n  ], age)\n  return relevantMods[bc]\n}\n\nexport function smartBaseSkillValue (basicCapabilities, skill) {\n  let value = 0\n  if (skill.gbc) {\n    if (skill.gbc.includes('/')) {\n      const [bc1, bc2] = skill.gbc.split('/')\n      const [v1, v2] = [basicCapabilities[bc1], basicCapabilities[bc2]]\n      value = (v1 + v2) / 2\n    } else {\n      value = basicCapabilities[skill.gbc]\n    }\n  }\n  return baseSkillValue(value)\n}\n\nexport function baseSkillValue (v) {\n  if (v <= 5) {\n    return 2\n  }\n\n  if (v <= 9) {\n    return 3\n  }\n\n  if (v <= 14) {\n    return 4\n  }\n\n  if (v <= 16) {\n    return 5\n  }\n\n  return 6\n}\n\nexport function movementAllowance (bc) {\n  const {\n    COR,\n    PHY\n  } = bc\n  const sum = COR + PHY\n\n  return {\n    squaresPerAction: 1 + Math.ceil(sum / 15),\n    metersPerMinute: 150 + Math.pow(sum, 1.35)\n  }\n}\n\nexport function actionsPerRound (bc) {\n  const {\n    COR,\n    MST\n  } = bc\n  const sum = COR + MST\n  return 1 + Math.ceil(sum / 15)\n}\n\nexport function offensiveBonus (bc) {\n  const {\n    STR,\n    PHY\n  } = bc\n  const sum = STR + PHY\n  return Math.floor((sum) / 10) - 1\n}\n\nexport function defensiveBonus (bc) {\n  const {\n    COR,\n    INT\n  } = bc\n  const sum = COR + INT\n  return 2 + Math.floor(sum / 10)\n}\n\nexport function perceptionBonus (bc) {\n  const {\n    MST,\n    INT\n  } = bc\n  const sum = MST + INT\n  return 2 + Math.floor(sum / 10)\n}\n\nexport function initiativeBonus (bc) {\n  const {\n    COR,\n    PER\n  } = bc\n  const sum = PER + COR\n  return 1 + Math.floor(sum / 10)\n}\n\nexport function bodyPoints (bc) {\n  const {\n    PHY,\n    MST\n  } = bc\n\n  const totalBodyPoints = PHY + MST\n\n  return {\n    totalBodyPoints,\n    bodyParts: {\n      head:     Math.floor((5 + mod()) / 2),\n      chest:    5 + mod(),\n      leftArm:  4 + mod(),\n      rightArm: 4 + mod(),\n      stomach:  4 + mod(),\n      leftLeg:  5 + mod(),\n      rightLeg: 5 + mod()\n    }\n  }\n\n  function mod () {\n    return Math.floor(totalBodyPoints / 10)\n  }\n}\n\nexport const skills = {\n  combat: [\n    {name: 'missile weapons', gbc: 'COR'},\n    {name: 'throwing', gbc: 'STR/COR'},\n    {name: 'unarmed', gbc: 'STR/COR'},\n    {name: 'wrestling', gbc: 'STR/COR'},\n    {name: 'silent combat', gbc: 'COR/INT'},\n    {name: 'parrying', gbc: 'COR'},\n    {name: 'stabbing weapons', gbc: 'COR'},\n    {name: 'cutting weapons', gbc: 'COR'},\n    {name: 'crushing weapons', gbc: 'STR/COR'},\n  ],\n\n  firearms: [\n    {name: 'handguns', gbc: 'COR'},\n    {name: 'rifles', gbc: 'COR'},\n    {name: 'light automatics', gbc: 'STR/COR'},\n    {name: 'heavy automatics', gbc: 'STR/COR'},\n    {name: 'shoulder launched', gbc: 'COR/INT'},\n    {name: 'grenade launchers', gbc: 'COR/INT'},\n  ],\n\n  communication: [\n    {name: 'administration', gbc: 'INT'},\n    {name: 'oratory', gbc: 'PER'},\n    {name: 'dealing', gbc: 'INT'},\n    {name: 'interrogation', gbc: 'INT/PER'},\n    {name: 'social', gbc: 'PER'},\n    {name: 'conning', gbc: 'PER'},\n    {name: 'journalism', gbc: 'INT'},\n  ],\n\n  movement: [\n    {name: 'tumbling', gbc: 'COR'},\n    {name: 'sleight of hand', gbc: 'COR'},\n    {name: 'stealth', gbc: 'COR'},\n    {name: 'agility', gbc: 'COR'},\n    {name: 'climbing', gbc: 'COR'},\n    {name: 'tracking', gbc: 'INT'},\n    {name: 'scuba diving', gbc: 'COR/INT'},\n    {name: 'rocket pack', gbc: 'COR'},\n    {name: 'parachuting', gbc: 'COR'},\n    {name: 'water vehicles', gbc: 'INT'},\n    {name: 'flying vehicles', gbc: 'INT/MST'},\n    {name: 'ground vehicles', gbc: 'INT/MST'},\n  ],\n\n  technical: [\n    {name: 'electronics', gbc: 'INT'},\n    {name: 'chemistry', gbc: 'INT'},\n    {name: 'biology', gbc: 'INT'},\n    {name: 'mechanics', gbc: 'INT'},\n    {name: 'computers', gbc: 'INT'},\n    {name: 'weapon systems', gbc: 'INT'},\n    {name: 'gunsmith', gbc: 'INT'},\n    {name: 'locksmith', gbc: 'INT'},\n    {name: 'medicine', gbc: 'INT'},\n    {name: 'first aid', gbc: 'INT'},\n    {name: 'security systems', gbc: 'INT'},\n    {name: 'demolitions', gbc: 'INT'},\n    {name: 'survival', gbc: 'INT'},\n  ],\n\n  special: [\n    {name: 'avoid', gcb: null, gcs: 'DB'},\n    {name: 'perception', gcb: null, gcs: 'PB'},\n    {name: 'the art', gcb: null, gcs: null},\n  ]\n}\n","import getCss from 'csjs/get-css'\n\nimport commonStyles from './components/common_styles.js'\nimport mainStyles from './components/main/styles.js'\nimport tabsStyles from './components/tabs/styles.js'\nimport characterStyles from './components/character/styles.js'\n\nexport function registerStyles (document) {\n  const style = document.createElement('style')\n  const css = [\n    commonStyles,\n    mainStyles,\n    tabsStyles,\n    characterStyles,\n  ].reduce((result, next) => `${result}\n${getCss(next)}`, '')\n  style.innerText = css\n  document.body.appendChild(style)\n}\n"]}